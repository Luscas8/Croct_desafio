{
  "version": 3,
  "sources": ["../../tslib/tslib.js", "../../@croct/sdk/validation/schema.js", "../../@croct/sdk/validation/violation.js", "../../@croct/sdk/validation/arrayType.js", "../../@croct/sdk/validation/booleanType.js", "../../@croct/sdk/validation/functionType.js", "../../@croct/sdk/validation/jsonType.js", "../../@croct/sdk/validation/mixedSchema.js", "../../@croct/sdk/validation/nullType.js", "../../@croct/sdk/validation/numberType.js", "../../@croct/sdk/validation/objectType.js", "../../@croct/sdk/validation/stringType.js", "../../@croct/sdk/validation/unionType.js", "../../@croct/sdk/validation/index.js", "../../@croct/sdk/schema/contextSchemas.js", "../../@croct/sdk/schema/ecommerceSchemas.js", "../../@croct/sdk/schema/evaluationSchemas.js", "../../@croct/sdk/schema/attributeSchema.js", "../../@croct/sdk/schema/userSchema.js", "../../@croct/sdk/schema/contentSchemas.js", "../../@croct/sdk/schema/eventSchemas.js", "../../@croct/sdk/schema/loggerSchema.js", "../../@croct/sdk/schema/operationSchemas.js", "../../@croct/sdk/schema/sdkSchemas.js", "../../@croct/sdk/schema/sdkFacadeSchemas.js", "../../@croct/sdk/schema/tokenSchema.js", "../../@croct/sdk/schema/index.js", "../../@croct/sdk/error.js", "../../@croct/sdk/facade/evaluatorFacade.js", "../../@croct/sdk/facade/trackerFacade.js", "../../@croct/sdk/activeRecord.js", "../../@croct/sdk/facade/userPatch.js", "../../@croct/sdk/facade/userFacade.js", "../../@croct/sdk/base64Url.js", "../../@croct/sdk/token/token.js", "../../@croct/sdk/token/cachedTokenStore.js", "../../@croct/sdk/token/inMemoryTokenStore.js", "../../@croct/sdk/token/replicatedTokenStore.js", "../../@croct/sdk/token/index.js", "../../@croct/sdk/logging/logger.js", "../../@croct/sdk/logging/consoleLogger.js", "../../@croct/sdk/logging/namespacedLogger.js", "../../@croct/sdk/logging/nullLogger.js", "../../@croct/sdk/logging/index.js", "../../@croct/sdk/eventManager.js", "../../@croct/sdk/tab.js", "../../@croct/sdk/uuid.js", "../../@croct/sdk/context.js", "../../@croct/sdk/namespacedStorage.js", "../../@croct/sdk/retry/policy.js", "../../@croct/sdk/retry/arbitraryPolicy.js", "../../@croct/sdk/retry/backoffPolicy.js", "../../@croct/sdk/retry/maxAttemptsPolicy.js", "../../@croct/sdk/retry/neverPolicy.js", "../../@croct/sdk/retry/index.js", "../../@croct/sdk/queue/queue.js", "../../@croct/sdk/queue/capacityRestrictedQueue.js", "../../@croct/sdk/queue/inMemoryQueue.js", "../../@croct/sdk/queue/monitoredQueue.js", "../../@croct/sdk/queue/persistentQueue.js", "../../@croct/sdk/queue/index.js", "../../@croct/sdk/trackingEvents.js", "../../@croct/sdk/tracker.js", "../../@croct/sdk/constants.js", "../../@croct/sdk/sourceLocation.js", "../../@croct/sdk/evaluator.js", "../../@croct/sdk/transformer.js", "../../@croct/sdk/cid/assigner.js", "../../@croct/sdk/cid/cachedAssigner.js", "../../@croct/sdk/cid/fixedAssigner.js", "../../@croct/sdk/cid/remoteAssigner.js", "../../@croct/sdk/cid/index.js", "../../@croct/sdk/cache/cache.js", "../../@croct/sdk/cache/fallbackCache.js", "../../@croct/sdk/cache/inMemoryCache.js", "../../@croct/sdk/cache/localStorageCache.js", "../../@croct/sdk/cache/index.js", "../../@croct/sdk/channel/guaranteedChannel.js", "../../@croct/sdk/channel/channel.js", "../../@croct/sdk/channel/beaconSocketChannel.js", "../../@croct/sdk/channel/encodedChannel.js", "../../@croct/sdk/channel/queuedChannel.js", "../../@croct/sdk/channel/retryChannel.js", "../../@croct/sdk/channel/sandboxChannel.js", "../../@croct/sdk/channel/socketChannel.js", "../../@croct/sdk/channel/index.js", "../../@croct/sdk/container.js", "../../@croct/sdk/sdk.js", "../../@croct/sdk/facade/sessionPatch.js", "../../@croct/sdk/facade/sessionFacade.js", "../../@croct/sdk/facade/sdkFacade.js", "../../@croct/sdk/index.js", "../../@croct/plug/constants.js", "../../@croct/plug/playground.js", "../../@croct/plug/plug.js", "../../@croct/plug/index.js", "../../@croct/plug-react/Personalization.js", "../../@croct/src/ssr-polyfills.ts", "../../@croct/src/CroctProvider.tsx", "../../@croct/src/hooks/Cache.ts", "../../@croct/src/hooks/useLoader.ts", "../../@croct/src/hooks/useCroct.ts", "../../@croct/src/hooks/useEvaluation.ts", "../../@croct/src/hooks/useContent.ts", "../../@croct/src/components/Personalization/index.tsx", "../../@croct/src/components/Slot/index.tsx", "dep:@croct_plug-react"],
  "sourcesContent": ["/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global global, define, System, Reflect, Promise */\r\nvar __extends;\r\nvar __assign;\r\nvar __rest;\r\nvar __decorate;\r\nvar __param;\r\nvar __metadata;\r\nvar __awaiter;\r\nvar __generator;\r\nvar __exportStar;\r\nvar __values;\r\nvar __read;\r\nvar __spread;\r\nvar __spreadArrays;\r\nvar __spreadArray;\r\nvar __await;\r\nvar __asyncGenerator;\r\nvar __asyncDelegator;\r\nvar __asyncValues;\r\nvar __makeTemplateObject;\r\nvar __importStar;\r\nvar __importDefault;\r\nvar __classPrivateFieldGet;\r\nvar __classPrivateFieldSet;\r\nvar __classPrivateFieldIn;\r\nvar __createBinding;\r\n(function (factory) {\r\n    var root = typeof global === \"object\" ? global : typeof self === \"object\" ? self : typeof this === \"object\" ? this : {};\r\n    if (typeof define === \"function\" && define.amd) {\r\n        define(\"tslib\", [\"exports\"], function (exports) { factory(createExporter(root, createExporter(exports))); });\r\n    }\r\n    else if (typeof module === \"object\" && typeof module.exports === \"object\") {\r\n        factory(createExporter(root, createExporter(module.exports)));\r\n    }\r\n    else {\r\n        factory(createExporter(root));\r\n    }\r\n    function createExporter(exports, previous) {\r\n        if (exports !== root) {\r\n            if (typeof Object.create === \"function\") {\r\n                Object.defineProperty(exports, \"__esModule\", { value: true });\r\n            }\r\n            else {\r\n                exports.__esModule = true;\r\n            }\r\n        }\r\n        return function (id, v) { return exports[id] = previous ? previous(id, v) : v; };\r\n    }\r\n})\r\n(function (exporter) {\r\n    var extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n\r\n    __extends = function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n\r\n    __assign = Object.assign || function (t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n\r\n    __rest = function (s, e) {\r\n        var t = {};\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n            t[p] = s[p];\r\n        if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n            for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n                if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                    t[p[i]] = s[p[i]];\r\n            }\r\n        return t;\r\n    };\r\n\r\n    __decorate = function (decorators, target, key, desc) {\r\n        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n        if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n        return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n    };\r\n\r\n    __param = function (paramIndex, decorator) {\r\n        return function (target, key) { decorator(target, key, paramIndex); }\r\n    };\r\n\r\n    __metadata = function (metadataKey, metadataValue) {\r\n        if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n    };\r\n\r\n    __awaiter = function (thisArg, _arguments, P, generator) {\r\n        function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n        return new (P || (P = Promise))(function (resolve, reject) {\r\n            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n            function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n            function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n        });\r\n    };\r\n\r\n    __generator = function (thisArg, body) {\r\n        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n        return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n        function verb(n) { return function (v) { return step([n, v]); }; }\r\n        function step(op) {\r\n            if (f) throw new TypeError(\"Generator is already executing.\");\r\n            while (_) try {\r\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n                if (y = 0, t) op = [op[0] & 2, t.value];\r\n                switch (op[0]) {\r\n                    case 0: case 1: t = op; break;\r\n                    case 4: _.label++; return { value: op[1], done: false };\r\n                    case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                    case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                    default:\r\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                        if (t[2]) _.ops.pop();\r\n                        _.trys.pop(); continue;\r\n                }\r\n                op = body.call(thisArg, _);\r\n            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n        }\r\n    };\r\n\r\n    __exportStar = function(m, o) {\r\n        for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n    };\r\n\r\n    __createBinding = Object.create ? (function(o, m, k, k2) {\r\n        if (k2 === undefined) k2 = k;\r\n        var desc = Object.getOwnPropertyDescriptor(m, k);\r\n        if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n            desc = { enumerable: true, get: function() { return m[k]; } };\r\n        }\r\n        Object.defineProperty(o, k2, desc);\r\n    }) : (function(o, m, k, k2) {\r\n        if (k2 === undefined) k2 = k;\r\n        o[k2] = m[k];\r\n    });\r\n\r\n    __values = function (o) {\r\n        var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n        if (m) return m.call(o);\r\n        if (o && typeof o.length === \"number\") return {\r\n            next: function () {\r\n                if (o && i >= o.length) o = void 0;\r\n                return { value: o && o[i++], done: !o };\r\n            }\r\n        };\r\n        throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n    };\r\n\r\n    __read = function (o, n) {\r\n        var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n        if (!m) return o;\r\n        var i = m.call(o), r, ar = [], e;\r\n        try {\r\n            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n        }\r\n        catch (error) { e = { error: error }; }\r\n        finally {\r\n            try {\r\n                if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n            }\r\n            finally { if (e) throw e.error; }\r\n        }\r\n        return ar;\r\n    };\r\n\r\n    /** @deprecated */\r\n    __spread = function () {\r\n        for (var ar = [], i = 0; i < arguments.length; i++)\r\n            ar = ar.concat(__read(arguments[i]));\r\n        return ar;\r\n    };\r\n\r\n    /** @deprecated */\r\n    __spreadArrays = function () {\r\n        for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n        for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n            for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n                r[k] = a[j];\r\n        return r;\r\n    };\r\n\r\n    __spreadArray = function (to, from, pack) {\r\n        if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n            if (ar || !(i in from)) {\r\n                if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n                ar[i] = from[i];\r\n            }\r\n        }\r\n        return to.concat(ar || Array.prototype.slice.call(from));\r\n    };\r\n\r\n    __await = function (v) {\r\n        return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n    };\r\n\r\n    __asyncGenerator = function (thisArg, _arguments, generator) {\r\n        if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n        var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n        return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n        function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n        function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n        function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n        function fulfill(value) { resume(\"next\", value); }\r\n        function reject(value) { resume(\"throw\", value); }\r\n        function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n    };\r\n\r\n    __asyncDelegator = function (o) {\r\n        var i, p;\r\n        return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n        function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n    };\r\n\r\n    __asyncValues = function (o) {\r\n        if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n        var m = o[Symbol.asyncIterator], i;\r\n        return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n        function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n        function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n    };\r\n\r\n    __makeTemplateObject = function (cooked, raw) {\r\n        if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n        return cooked;\r\n    };\r\n\r\n    var __setModuleDefault = Object.create ? (function(o, v) {\r\n        Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n    }) : function(o, v) {\r\n        o[\"default\"] = v;\r\n    };\r\n\r\n    __importStar = function (mod) {\r\n        if (mod && mod.__esModule) return mod;\r\n        var result = {};\r\n        if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n        __setModuleDefault(result, mod);\r\n        return result;\r\n    };\r\n\r\n    __importDefault = function (mod) {\r\n        return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n    };\r\n\r\n    __classPrivateFieldGet = function (receiver, state, kind, f) {\r\n        if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n        if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n        return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n    };\r\n\r\n    __classPrivateFieldSet = function (receiver, state, value, kind, f) {\r\n        if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n        if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n        if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n        return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n    };\r\n\r\n    __classPrivateFieldIn = function (state, receiver) {\r\n        if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n        return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n    };\r\n\r\n    exporter(\"__extends\", __extends);\r\n    exporter(\"__assign\", __assign);\r\n    exporter(\"__rest\", __rest);\r\n    exporter(\"__decorate\", __decorate);\r\n    exporter(\"__param\", __param);\r\n    exporter(\"__metadata\", __metadata);\r\n    exporter(\"__awaiter\", __awaiter);\r\n    exporter(\"__generator\", __generator);\r\n    exporter(\"__exportStar\", __exportStar);\r\n    exporter(\"__createBinding\", __createBinding);\r\n    exporter(\"__values\", __values);\r\n    exporter(\"__read\", __read);\r\n    exporter(\"__spread\", __spread);\r\n    exporter(\"__spreadArrays\", __spreadArrays);\r\n    exporter(\"__spreadArray\", __spreadArray);\r\n    exporter(\"__await\", __await);\r\n    exporter(\"__asyncGenerator\", __asyncGenerator);\r\n    exporter(\"__asyncDelegator\", __asyncDelegator);\r\n    exporter(\"__asyncValues\", __asyncValues);\r\n    exporter(\"__makeTemplateObject\", __makeTemplateObject);\r\n    exporter(\"__importStar\", __importStar);\r\n    exporter(\"__importDefault\", __importDefault);\r\n    exporter(\"__classPrivateFieldGet\", __classPrivateFieldGet);\r\n    exporter(\"__classPrivateFieldSet\", __classPrivateFieldSet);\r\n    exporter(\"__classPrivateFieldIn\", __classPrivateFieldIn);\r\n});\r\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Violation = void 0;\nvar tslib_1 = require(\"tslib\");\nvar Violation = /** @class */ (function (_super) {\n    tslib_1.__extends(Violation, _super);\n    function Violation(message, path, params) {\n        var _this = _super.call(this, message) || this;\n        _this.path = path;\n        _this.params = params;\n        return _this;\n    }\n    return Violation;\n}(Error));\nexports.Violation = Violation;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.formatPath = exports.describe = void 0;\nfunction describe(value) {\n    if (value === null) {\n        return 'null';\n    }\n    if (Array.isArray(value)) {\n        return 'array';\n    }\n    if (typeof value === 'number') {\n        return Number.isInteger(value) ? 'integer' : 'number';\n    }\n    if (typeof value === 'object') {\n        // eslint-disable-next-line @typescript-eslint/ban-types\n        return value.constructor.name;\n    }\n    return typeof value;\n}\nexports.describe = describe;\nfunction formatPath(path) {\n    return \"/\".concat(path.join('/'));\n}\nexports.formatPath = formatPath;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ArrayType = void 0;\nvar tslib_1 = require(\"tslib\");\nvar schema_1 = require(\"./schema\");\nvar violation_1 = require(\"./violation\");\nvar ArrayType = /** @class */ (function () {\n    function ArrayType(definition) {\n        if (definition === void 0) { definition = {}; }\n        var _a, _b;\n        this.definition = tslib_1.__assign(tslib_1.__assign({}, definition), { minItems: (_a = definition.minItems) !== null && _a !== void 0 ? _a : -1, maxItems: (_b = definition.maxItems) !== null && _b !== void 0 ? _b : -1 });\n    }\n    ArrayType.prototype.getTypes = function () {\n        return ['array'];\n    };\n    ArrayType.prototype.isValidType = function (value) {\n        return Array.isArray(value);\n    };\n    ArrayType.prototype.validate = function (value, path) {\n        if (path === void 0) { path = []; }\n        if (!this.isValidType(value)) {\n            throw new schema_1.Violation(\"Expected value of type array at path '\".concat((0, violation_1.formatPath)(path), \"', actual \").concat((0, violation_1.describe)(value), \".\"), path, { type: 'string' });\n        }\n        var _a = this.definition, minItems = _a.minItems, maxItems = _a.maxItems;\n        var length = value.length;\n        if (minItems >= 0 && minItems > length) {\n            throw new schema_1.Violation(\"Expected \".concat(minItems === maxItems ? 'exactly' : 'at least', \" \")\n                + \"\".concat(minItems, \" \").concat(minItems === 1 ? 'item' : 'items', \" \")\n                + \"at path '\".concat((0, violation_1.formatPath)(path), \"', actual \").concat(length, \".\"), path, { limit: minItems });\n        }\n        if (maxItems >= 0 && maxItems < length) {\n            throw new schema_1.Violation(\"Expected \".concat(minItems === maxItems ? 'exactly' : 'at most', \" \")\n                + \"\".concat(maxItems, \" \").concat(maxItems === 1 ? 'item' : 'items', \" \")\n                + \"at path '\".concat((0, violation_1.formatPath)(path), \"', actual \").concat(length, \".\"), path, { limit: maxItems });\n        }\n        if (this.definition.items === undefined) {\n            return;\n        }\n        for (var index = 0; index < length; index++) {\n            this.definition.items.validate(value[index], path.concat([index.toString()]));\n        }\n    };\n    return ArrayType;\n}());\nexports.ArrayType = ArrayType;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BooleanType = void 0;\nvar schema_1 = require(\"./schema\");\nvar violation_1 = require(\"./violation\");\nvar BooleanType = /** @class */ (function () {\n    function BooleanType() {\n    }\n    BooleanType.prototype.getTypes = function () {\n        return ['boolean'];\n    };\n    BooleanType.prototype.isValidType = function (value) {\n        return typeof value === 'boolean';\n    };\n    BooleanType.prototype.validate = function (value, path) {\n        if (path === void 0) { path = []; }\n        if (!this.isValidType(value)) {\n            throw new schema_1.Violation(\"Expected value of type boolean at path '\".concat((0, violation_1.formatPath)(path), \"', actual \").concat((0, violation_1.describe)(value), \".\"), path, { type: 'boolean' });\n        }\n    };\n    return BooleanType;\n}());\nexports.BooleanType = BooleanType;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FunctionType = void 0;\nvar schema_1 = require(\"./schema\");\nvar violation_1 = require(\"./violation\");\nvar FunctionType = /** @class */ (function () {\n    function FunctionType() {\n    }\n    FunctionType.prototype.getTypes = function () {\n        return ['function'];\n    };\n    FunctionType.prototype.isValidType = function (value) {\n        return typeof value === 'function';\n    };\n    FunctionType.prototype.validate = function (value, path) {\n        if (path === void 0) { path = []; }\n        if (!this.isValidType(value)) {\n            throw new schema_1.Violation(\"Expected value of type function at path '\".concat((0, violation_1.formatPath)(path), \"', actual \").concat((0, violation_1.describe)(value), \".\"), path, { type: 'function' });\n        }\n    };\n    return FunctionType;\n}());\nexports.FunctionType = FunctionType;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JsonType = exports.JsonPrimitiveType = exports.JsonArrayType = exports.JsonObjectType = void 0;\nvar tslib_1 = require(\"tslib\");\nvar schema_1 = require(\"./schema\");\nvar violation_1 = require(\"./violation\");\nfunction isJsonPrimitive(value) {\n    return value === null || typeof value === 'string' || typeof value === 'boolean' || typeof value === 'number';\n}\nfunction isJsonArray(value) {\n    return Array.isArray(value) && value.every(isJsonValue);\n}\nfunction isJsonValue(value) {\n    return isJsonPrimitive(value) || isJsonArray(value) || isJsonObject(value);\n}\nfunction isJsonObject(value) {\n    return isPlainObject(value) && Object.values(value).every(isJsonValue);\n}\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction isPlainObject(value) {\n    return Object.prototype.toString.call(value) === '[object Object]';\n}\nvar JsonObjectType = /** @class */ (function () {\n    function JsonObjectType(definition) {\n        if (definition === void 0) { definition = {}; }\n        this.definition = definition;\n    }\n    JsonObjectType.prototype.getTypes = function () {\n        return ['object'];\n    };\n    JsonObjectType.prototype.isValidType = function (value) {\n        return isPlainObject(value);\n    };\n    JsonObjectType.prototype.validate = function (value, path) {\n        var e_1, _a;\n        if (path === void 0) { path = []; }\n        if (!isJsonObject(value)) {\n            throw new schema_1.Violation(\"Expected a JSON object at path '\".concat((0, violation_1.formatPath)(path), \"', actual \").concat((0, violation_1.describe)(value), \".\"), path, { type: 'object' });\n        }\n        if (this.definition.properties === undefined && this.definition.propertyNames === undefined) {\n            return;\n        }\n        try {\n            for (var _b = tslib_1.__values(Object.entries(value)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var _d = tslib_1.__read(_c.value, 2), entryName = _d[0], entryValue = _d[1];\n                var propertyPath = path.concat([entryName]);\n                if (this.definition.propertyNames !== undefined) {\n                    this.definition.propertyNames.validate(entryName, propertyPath);\n                }\n                if (this.definition.properties !== undefined) {\n                    this.definition.properties.validate(entryValue, path.concat([entryName]));\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    };\n    return JsonObjectType;\n}());\nexports.JsonObjectType = JsonObjectType;\nvar JsonArrayType = /** @class */ (function () {\n    function JsonArrayType(definition) {\n        if (definition === void 0) { definition = {}; }\n        this.definition = definition;\n    }\n    JsonArrayType.prototype.getTypes = function () {\n        return ['array'];\n    };\n    JsonArrayType.prototype.isValidType = function (value) {\n        return Array.isArray(value);\n    };\n    JsonArrayType.prototype.validate = function (value, path) {\n        if (path === void 0) { path = []; }\n        if (!isJsonArray(value)) {\n            throw new schema_1.Violation(\"Expected a JSON array at path '\".concat((0, violation_1.formatPath)(path), \"', actual \").concat((0, violation_1.describe)(value), \".\"), path, { type: 'array' });\n        }\n        if (this.definition.items === undefined) {\n            return;\n        }\n        for (var index = 0; index < value.length; index++) {\n            this.definition.items.validate(value[index], path.concat([index.toString()]));\n        }\n    };\n    return JsonArrayType;\n}());\nexports.JsonArrayType = JsonArrayType;\nvar JsonPrimitiveType = /** @class */ (function () {\n    function JsonPrimitiveType() {\n    }\n    JsonPrimitiveType.prototype.getTypes = function () {\n        return ['null', 'number', 'string', 'boolean'];\n    };\n    JsonPrimitiveType.prototype.isValidType = function (value) {\n        return isJsonPrimitive(value);\n    };\n    JsonPrimitiveType.prototype.validate = function (value, path) {\n        if (path === void 0) { path = []; }\n        if (!this.isValidType(value)) {\n            throw new schema_1.Violation(\"Expected a JSON primitive at path '\".concat((0, violation_1.formatPath)(path), \"', actual \").concat((0, violation_1.describe)(value), \".\"), path, { type: this.getTypes().join('|') });\n        }\n    };\n    return JsonPrimitiveType;\n}());\nexports.JsonPrimitiveType = JsonPrimitiveType;\nvar JsonType = /** @class */ (function () {\n    function JsonType() {\n    }\n    JsonType.prototype.getTypes = function () {\n        return ['null', 'number', 'string', 'boolean', 'array', 'object'];\n    };\n    JsonType.prototype.isValidType = function (value) {\n        return isJsonPrimitive(value) || Array.isArray(value) || isPlainObject(value);\n    };\n    JsonType.prototype.validate = function (value, path) {\n        if (path === void 0) { path = []; }\n        if (!isJsonValue(value)) {\n            throw new schema_1.Violation(\"Expected a JSON value at path '\".concat((0, violation_1.formatPath)(path), \"', actual \").concat((0, violation_1.describe)(value), \".\"), path, { type: this.getTypes().join('|') });\n        }\n    };\n    return JsonType;\n}());\nexports.JsonType = JsonType;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MixedSchema = void 0;\nvar MixedSchema = /** @class */ (function () {\n    function MixedSchema() {\n    }\n    MixedSchema.prototype.validate = function () {\n        // always valid\n    };\n    return MixedSchema;\n}());\nexports.MixedSchema = MixedSchema;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NullType = void 0;\nvar schema_1 = require(\"./schema\");\nvar violation_1 = require(\"./violation\");\nvar NullType = /** @class */ (function () {\n    function NullType() {\n    }\n    NullType.prototype.getTypes = function () {\n        return ['null'];\n    };\n    NullType.prototype.isValidType = function (value) {\n        return value === null;\n    };\n    NullType.prototype.validate = function (value, path) {\n        if (path === void 0) { path = []; }\n        if (!this.isValidType(value)) {\n            throw new schema_1.Violation(\"Expected value of type null at path '\".concat((0, violation_1.formatPath)(path), \"', actual \").concat((0, violation_1.describe)(value), \".\"), path, { type: 'null' });\n        }\n    };\n    return NullType;\n}());\nexports.NullType = NullType;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NumberType = void 0;\nvar tslib_1 = require(\"tslib\");\nvar schema_1 = require(\"./schema\");\nvar violation_1 = require(\"./violation\");\nvar NumberType = /** @class */ (function () {\n    function NumberType(definition) {\n        if (definition === void 0) { definition = {}; }\n        var _a, _b, _c;\n        this.definition = tslib_1.__assign(tslib_1.__assign({}, definition), { integer: (_a = definition.integer) !== null && _a !== void 0 ? _a : false, minimum: (_b = definition.minimum) !== null && _b !== void 0 ? _b : Number.NEGATIVE_INFINITY, maximum: (_c = definition.maximum) !== null && _c !== void 0 ? _c : Number.POSITIVE_INFINITY });\n    }\n    NumberType.prototype.getTypes = function () {\n        return [this.definition.integer ? 'integer' : 'number'];\n    };\n    NumberType.prototype.isValidType = function (value) {\n        return typeof value === 'number' && (!this.definition.integer || Number.isInteger(value));\n    };\n    NumberType.prototype.validate = function (value, path) {\n        if (path === void 0) { path = []; }\n        if (!this.isValidType(value)) {\n            var type = this.getTypes()[0];\n            throw new schema_1.Violation(\"Expected value of type \".concat(type, \" at path '\").concat((0, violation_1.formatPath)(path), \"', actual \").concat((0, violation_1.describe)(value), \".\"), path, { type: type });\n        }\n        if (value < this.definition.minimum) {\n            throw new schema_1.Violation(\"Expected a value greater than or equal to \".concat(this.definition.minimum, \" \")\n                + \"at path '\".concat((0, violation_1.formatPath)(path), \"', actual \").concat(value, \".\"), path, { limit: this.definition.minimum });\n        }\n        if (value > this.definition.maximum) {\n            throw new schema_1.Violation(\"Expected a value less than or equal to \".concat(this.definition.maximum, \" \")\n                + \"at path '\".concat((0, violation_1.formatPath)(path), \"', actual \").concat(value, \".\"), path, { limit: this.definition.maximum });\n        }\n    };\n    return NumberType;\n}());\nexports.NumberType = NumberType;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ObjectType = void 0;\nvar tslib_1 = require(\"tslib\");\nvar schema_1 = require(\"./schema\");\nvar mixedSchema_1 = require(\"./mixedSchema\");\nvar violation_1 = require(\"./violation\");\nvar ObjectType = /** @class */ (function () {\n    function ObjectType(schema) {\n        if (schema === void 0) { schema = {}; }\n        var _a, _b, _c, _d, _e, _f;\n        this.definition = tslib_1.__assign(tslib_1.__assign({}, schema), { properties: (_a = schema.properties) !== null && _a !== void 0 ? _a : {}, required: (_b = schema.required) !== null && _b !== void 0 ? _b : [], additionalProperties: (_c = schema.additionalProperties) !== null && _c !== void 0 ? _c : false, propertyNames: (_d = schema.propertyNames) !== null && _d !== void 0 ? _d : new mixedSchema_1.MixedSchema(), minProperties: (_e = schema.minProperties) !== null && _e !== void 0 ? _e : -1, maxProperties: (_f = schema.maxProperties) !== null && _f !== void 0 ? _f : -1 });\n    }\n    ObjectType.prototype.getTypes = function () {\n        if (this.definition.type !== undefined) {\n            return [this.definition.type.name];\n        }\n        return ['object'];\n    };\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    ObjectType.prototype.isValidType = function (value) {\n        if (this.definition.type !== undefined) {\n            return value instanceof this.definition.type;\n        }\n        return Object.prototype.toString.call(value) === '[object Object]';\n    };\n    ObjectType.prototype.validate = function (value, path) {\n        var e_1, _a, e_2, _b;\n        if (path === void 0) { path = []; }\n        if (!this.isValidType(value)) {\n            var _c = tslib_1.__read(this.getTypes(), 1), type = _c[0];\n            throw new schema_1.Violation(\"Expected value of type \".concat(type, \" at path '\").concat((0, violation_1.formatPath)(path), \"', \")\n                + \"actual \".concat((0, violation_1.describe)(value), \".\"), path, { type: type });\n        }\n        var entries = Object.entries(value);\n        var _d = this.definition, minProperties = _d.minProperties, maxProperties = _d.maxProperties;\n        if (minProperties >= 0 && minProperties > entries.length) {\n            throw new schema_1.Violation(\"Expected \".concat(minProperties === maxProperties ? 'exactly' : 'at least', \" \")\n                + \"\".concat(minProperties, \" \").concat(minProperties === 1 ? 'entry' : 'entries', \" \")\n                + \"at path '\".concat((0, violation_1.formatPath)(path), \"', actual \").concat(entries.length, \".\"), path, { limit: minProperties });\n        }\n        if (maxProperties >= 0 && maxProperties < entries.length) {\n            throw new schema_1.Violation(\"Expected \".concat(minProperties === maxProperties ? 'exactly' : 'at most', \" \")\n                + \"\".concat(maxProperties, \" \").concat(maxProperties === 1 ? 'entry' : 'entries', \" \")\n                + \"at path '\".concat((0, violation_1.formatPath)(path), \"', actual \").concat(entries.length, \".\"), path, { limit: maxProperties });\n        }\n        var additionalProperties = tslib_1.__assign({}, value);\n        try {\n            for (var _e = tslib_1.__values(this.definition.required), _f = _e.next(); !_f.done; _f = _e.next()) {\n                var property = _f.value;\n                if (!(property in value)) {\n                    throw new schema_1.Violation(\"Missing property '\".concat((0, violation_1.formatPath)(path.concat([property])), \"'.\"), path, {\n                        required: property,\n                    });\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_f && !_f.done && (_a = _e.return)) _a.call(_e);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        try {\n            for (var entries_1 = tslib_1.__values(entries), entries_1_1 = entries_1.next(); !entries_1_1.done; entries_1_1 = entries_1.next()) {\n                var _g = tslib_1.__read(entries_1_1.value, 2), entryName = _g[0], entryValue = _g[1];\n                var propertyPath = path.concat([entryName]);\n                this.definition.propertyNames.validate(entryName, propertyPath);\n                var propertyRule = this.definition.properties[entryName];\n                if (propertyRule !== undefined) {\n                    propertyRule.validate(entryValue, propertyPath);\n                    delete additionalProperties[entryName];\n                    continue;\n                }\n                if (this.definition.additionalProperties === false) {\n                    throw new schema_1.Violation(\"Unknown property '\".concat((0, violation_1.formatPath)(propertyPath), \"'.\"), propertyPath, {\n                        additionalProperty: entryName,\n                    });\n                }\n                if (this.definition.additionalProperties !== true) {\n                    this.definition.additionalProperties.validate(entryValue, propertyPath);\n                }\n            }\n        }\n        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n        finally {\n            try {\n                if (entries_1_1 && !entries_1_1.done && (_b = entries_1.return)) _b.call(entries_1);\n            }\n            finally { if (e_2) throw e_2.error; }\n        }\n        var subtypes = this.definition.subtypes;\n        if (subtypes !== undefined) {\n            var type = value[subtypes.discriminator];\n            if (type !== undefined && subtypes.schemas[type] !== undefined) {\n                subtypes.schemas[type].validate(additionalProperties, path);\n            }\n        }\n    };\n    return ObjectType;\n}());\nexports.ObjectType = ObjectType;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StringType = void 0;\nvar tslib_1 = require(\"tslib\");\nvar schema_1 = require(\"./schema\");\nvar violation_1 = require(\"./violation\");\nvar FORMAT = {\n    pointer: function pointer(value) {\n        return /^(\\.|([a-zA-Z_][a-zA-Z0-9_]*|\\[[0-9]+])(\\.[a-zA-Z_][a-zA-Z0-9_]*|\\[[0-9]+])*)$/.test(value);\n    },\n    identifier: function identifier(value) {\n        return /^[a-zA-Z_][a-zA-Z0-9_]*$/.test(value);\n    },\n    uuid: function uuid(value) {\n        return /^[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/.test(value);\n    },\n    date: function date(value) {\n        return /^(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)$/.test(value);\n    },\n    url: function url(value) {\n        try {\n            // eslint-disable-next-line no-new\n            new URL(value);\n        }\n        catch (_a) {\n            return false;\n        }\n        return true;\n    },\n    'uri-reference': function uriReference(value) {\n        try {\n            // This simplistic approach covers the most common cases\n            // without inflating the library with an RFC 3986-compliant parser.\n            // eslint-disable-next-line no-new\n            new URL(value, 'http://any.thing');\n        }\n        catch (_a) {\n            return false;\n        }\n        return true;\n    },\n};\nvar StringType = /** @class */ (function () {\n    function StringType(definition) {\n        if (definition === void 0) { definition = {}; }\n        var _a, _b, _c;\n        this.definition = tslib_1.__assign(tslib_1.__assign({}, definition), { minLength: (_a = definition.minLength) !== null && _a !== void 0 ? _a : -1, maxLength: (_b = definition.maxLength) !== null && _b !== void 0 ? _b : -1, enumeration: (_c = definition.enumeration) !== null && _c !== void 0 ? _c : [] });\n    }\n    StringType.prototype.getTypes = function () {\n        return ['string'];\n    };\n    StringType.prototype.isValidType = function (value) {\n        return typeof value === 'string';\n    };\n    StringType.prototype.validate = function (value, path) {\n        if (path === void 0) { path = []; }\n        if (!this.isValidType(value)) {\n            throw new schema_1.Violation(\"Expected value of type string at path '\".concat((0, violation_1.formatPath)(path), \"', actual \").concat((0, violation_1.describe)(value), \".\"), path, { type: 'string' });\n        }\n        var _a = this.definition, minLength = _a.minLength, maxLength = _a.maxLength;\n        if (minLength >= 0 && minLength > value.length) {\n            throw new schema_1.Violation(\"Expected \".concat(minLength === maxLength ? 'exactly' : 'at least', \" \")\n                + \"\".concat(minLength, \" \").concat(minLength === 1 ? 'character' : 'characters', \" \")\n                + \"at path '\".concat((0, violation_1.formatPath)(path), \"', actual \").concat(value.length, \".\"), path, { limit: minLength });\n        }\n        if (maxLength >= 0 && maxLength < value.length) {\n            throw new schema_1.Violation(\"Expected \".concat(minLength === maxLength ? 'exactly' : 'at most', \" \")\n                + \"\".concat(maxLength, \" \").concat(maxLength === 1 ? 'character' : 'characters', \" \")\n                + \"at path '\".concat((0, violation_1.formatPath)(path), \"', actual \").concat(value.length, \".\"), path, { limit: maxLength });\n        }\n        var enumeration = this.definition.enumeration;\n        if (enumeration.length > 0 && enumeration.indexOf(value) < 0) {\n            throw new schema_1.Violation(\"Unexpected value at path '\".concat((0, violation_1.formatPath)(path), \"', expecting \")\n                + \"'\".concat(enumeration.length === 1\n                    ? enumeration[0]\n                    : \"\".concat(enumeration.slice(0, -1).join('\\', \\''), \"' or '\").concat(enumeration.slice(-1)), \"', \")\n                + \"found '\".concat(value, \"'.\"), path, { enumeration: enumeration });\n        }\n        var _b = this.definition, format = _b.format, pattern = _b.pattern;\n        if (format !== undefined && !FORMAT[format](value)) {\n            throw new schema_1.Violation(\"Invalid \".concat(format, \" format at path '\").concat((0, violation_1.formatPath)(path), \"'.\"), path, { format: format });\n        }\n        if (pattern !== undefined && !pattern.test(value)) {\n            throw new schema_1.Violation(\"Invalid format at path '\".concat((0, violation_1.formatPath)(path), \"'.\"), path, { pattern: pattern });\n        }\n    };\n    return StringType;\n}());\nexports.StringType = StringType;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UnionType = void 0;\nvar tslib_1 = require(\"tslib\");\nvar schema_1 = require(\"./schema\");\nvar violation_1 = require(\"./violation\");\nvar UnionType = /** @class */ (function () {\n    function UnionType(first, second) {\n        var others = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            others[_i - 2] = arguments[_i];\n        }\n        this.schemas = tslib_1.__spreadArray([first, second], tslib_1.__read(others), false);\n    }\n    UnionType.prototype.getTypes = function () {\n        var e_1, _a, e_2, _b;\n        var types = [];\n        try {\n            for (var _c = tslib_1.__values(this.schemas), _d = _c.next(); !_d.done; _d = _c.next()) {\n                var schema = _d.value;\n                try {\n                    for (var _e = (e_2 = void 0, tslib_1.__values(schema.getTypes())), _f = _e.next(); !_f.done; _f = _e.next()) {\n                        var type = _f.value;\n                        if (types.indexOf(type) < 0) {\n                            types.push(type);\n                        }\n                    }\n                }\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                finally {\n                    try {\n                        if (_f && !_f.done && (_b = _e.return)) _b.call(_e);\n                    }\n                    finally { if (e_2) throw e_2.error; }\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_d && !_d.done && (_a = _c.return)) _a.call(_c);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return types;\n    };\n    UnionType.prototype.isValidType = function (value) {\n        var e_3, _a;\n        try {\n            for (var _b = tslib_1.__values(this.schemas), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var schema = _c.value;\n                if (schema.isValidType(value)) {\n                    return true;\n                }\n            }\n        }\n        catch (e_3_1) { e_3 = { error: e_3_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_3) throw e_3.error; }\n        }\n        return false;\n    };\n    UnionType.prototype.validate = function (value, path) {\n        var e_4, _a;\n        if (path === void 0) { path = []; }\n        try {\n            for (var _b = tslib_1.__values(this.schemas), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var schema = _c.value;\n                if (schema.isValidType(value)) {\n                    schema.validate(value, path);\n                    return;\n                }\n            }\n        }\n        catch (e_4_1) { e_4 = { error: e_4_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_4) throw e_4.error; }\n        }\n        var types = this.getTypes();\n        throw new schema_1.Violation(\"Expected value of type \".concat(types.slice(0, -1).join(', '), \" or \").concat(types[types.length - 1], \" \")\n            + \"at path '\".concat((0, violation_1.formatPath)(path), \"', actual \").concat((0, violation_1.describe)(value), \".\"), path, { type: types.join('|') });\n    };\n    return UnionType;\n}());\nexports.UnionType = UnionType;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UnionType = exports.StringType = exports.ObjectType = exports.NumberType = exports.NullType = exports.MixedSchema = exports.JsonPrimitiveType = exports.JsonObjectType = exports.JsonArrayType = exports.JsonType = exports.FunctionType = exports.BooleanType = exports.ArrayType = void 0;\nvar tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./schema\"), exports);\ntslib_1.__exportStar(require(\"./violation\"), exports);\nvar arrayType_1 = require(\"./arrayType\");\nObject.defineProperty(exports, \"ArrayType\", { enumerable: true, get: function () { return arrayType_1.ArrayType; } });\nvar booleanType_1 = require(\"./booleanType\");\nObject.defineProperty(exports, \"BooleanType\", { enumerable: true, get: function () { return booleanType_1.BooleanType; } });\nvar functionType_1 = require(\"./functionType\");\nObject.defineProperty(exports, \"FunctionType\", { enumerable: true, get: function () { return functionType_1.FunctionType; } });\nvar jsonType_1 = require(\"./jsonType\");\nObject.defineProperty(exports, \"JsonType\", { enumerable: true, get: function () { return jsonType_1.JsonType; } });\nObject.defineProperty(exports, \"JsonArrayType\", { enumerable: true, get: function () { return jsonType_1.JsonArrayType; } });\nObject.defineProperty(exports, \"JsonObjectType\", { enumerable: true, get: function () { return jsonType_1.JsonObjectType; } });\nObject.defineProperty(exports, \"JsonPrimitiveType\", { enumerable: true, get: function () { return jsonType_1.JsonPrimitiveType; } });\nvar mixedSchema_1 = require(\"./mixedSchema\");\nObject.defineProperty(exports, \"MixedSchema\", { enumerable: true, get: function () { return mixedSchema_1.MixedSchema; } });\nvar nullType_1 = require(\"./nullType\");\nObject.defineProperty(exports, \"NullType\", { enumerable: true, get: function () { return nullType_1.NullType; } });\nvar numberType_1 = require(\"./numberType\");\nObject.defineProperty(exports, \"NumberType\", { enumerable: true, get: function () { return numberType_1.NumberType; } });\nvar objectType_1 = require(\"./objectType\");\nObject.defineProperty(exports, \"ObjectType\", { enumerable: true, get: function () { return objectType_1.ObjectType; } });\nvar stringType_1 = require(\"./stringType\");\nObject.defineProperty(exports, \"StringType\", { enumerable: true, get: function () { return stringType_1.StringType; } });\nvar unionType_1 = require(\"./unionType\");\nObject.defineProperty(exports, \"UnionType\", { enumerable: true, get: function () { return unionType_1.UnionType; } });\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.tokenScopeSchema = void 0;\nvar validation_1 = require(\"../validation\");\nexports.tokenScopeSchema = new validation_1.StringType({\n    enumeration: ['global', 'contextual', 'isolated'],\n});\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.order = exports.orderItem = exports.cart = exports.cartItem = exports.productDetails = void 0;\nvar validation_1 = require(\"../validation\");\nexports.productDetails = new validation_1.ObjectType({\n    required: ['productId', 'name', 'displayPrice'],\n    properties: {\n        productId: new validation_1.StringType({\n            minLength: 1,\n            maxLength: 50,\n        }),\n        sku: new validation_1.StringType({\n            minLength: 1,\n            maxLength: 50,\n        }),\n        name: new validation_1.StringType({\n            minLength: 1,\n            maxLength: 200,\n        }),\n        category: new validation_1.StringType({\n            minLength: 1,\n            maxLength: 100,\n        }),\n        brand: new validation_1.StringType({\n            minLength: 1,\n            maxLength: 100,\n        }),\n        variant: new validation_1.StringType({\n            minLength: 1,\n            maxLength: 50,\n        }),\n        displayPrice: new validation_1.NumberType({\n            minimum: 0,\n        }),\n        originalPrice: new validation_1.NumberType({\n            minimum: 0,\n        }),\n        url: new validation_1.StringType({\n            format: 'url',\n        }),\n        imageUrl: new validation_1.StringType({\n            format: 'url',\n        }),\n    },\n});\nexports.cartItem = new validation_1.ObjectType({\n    required: ['index', 'product', 'quantity', 'total'],\n    properties: {\n        index: new validation_1.NumberType({\n            minimum: 0,\n        }),\n        product: exports.productDetails,\n        quantity: new validation_1.NumberType({\n            minimum: 1,\n        }),\n        total: new validation_1.NumberType({\n            minimum: 0,\n        }),\n        discount: new validation_1.NumberType({\n            minimum: 0,\n        }),\n        coupon: new validation_1.StringType({\n            minLength: 1,\n            maxLength: 50,\n        }),\n    },\n});\nexports.cart = new validation_1.ObjectType({\n    required: ['currency', 'items', 'total'],\n    properties: {\n        currency: new validation_1.StringType({\n            maxLength: 10,\n            minLength: 1,\n        }),\n        items: new validation_1.ArrayType({\n            items: exports.cartItem,\n        }),\n        subtotal: new validation_1.NumberType({\n            minimum: 0,\n        }),\n        shippingPrice: new validation_1.NumberType({\n            minimum: 0,\n        }),\n        taxes: new validation_1.ObjectType({\n            additionalProperties: new validation_1.NumberType(),\n            minProperties: 1,\n        }),\n        costs: new validation_1.ObjectType({\n            additionalProperties: new validation_1.NumberType(),\n            minProperties: 1,\n        }),\n        discount: new validation_1.NumberType({\n            minimum: 0,\n        }),\n        total: new validation_1.NumberType({\n            minimum: 0,\n        }),\n        coupon: new validation_1.StringType({\n            minLength: 1,\n            maxLength: 50,\n        }),\n        lastUpdateTime: new validation_1.NumberType(),\n    },\n});\nexports.orderItem = new validation_1.ObjectType({\n    required: ['index', 'product', 'quantity', 'total'],\n    properties: {\n        index: new validation_1.NumberType({\n            minimum: 0,\n        }),\n        product: exports.productDetails,\n        quantity: new validation_1.NumberType({\n            minimum: 1,\n        }),\n        total: new validation_1.NumberType({\n            minimum: 0,\n        }),\n        discount: new validation_1.NumberType({\n            minimum: 0,\n        }),\n        coupon: new validation_1.StringType({\n            minLength: 1,\n            maxLength: 50,\n        }),\n    },\n});\nexports.order = new validation_1.ObjectType({\n    required: ['orderId', 'currency', 'items', 'total'],\n    properties: {\n        orderId: new validation_1.StringType({\n            minLength: 1,\n            maxLength: 50,\n        }),\n        currency: new validation_1.StringType({\n            maxLength: 10,\n            minLength: 1,\n        }),\n        items: new validation_1.ArrayType({\n            items: exports.orderItem,\n            minItems: 1,\n        }),\n        subtotal: new validation_1.NumberType({\n            minimum: 0,\n        }),\n        shippingPrice: new validation_1.NumberType({\n            minimum: 0,\n        }),\n        taxes: new validation_1.ObjectType({\n            additionalProperties: new validation_1.NumberType(),\n            minProperties: 1,\n        }),\n        costs: new validation_1.ObjectType({\n            additionalProperties: new validation_1.NumberType(),\n            minProperties: 1,\n        }),\n        discount: new validation_1.NumberType({\n            minimum: 0,\n        }),\n        total: new validation_1.NumberType({\n            minimum: 0,\n        }),\n        coupon: new validation_1.StringType({\n            minLength: 1,\n            maxLength: 50,\n        }),\n        paymentMethod: new validation_1.StringType({\n            minLength: 1,\n            maxLength: 50,\n        }),\n        installments: new validation_1.NumberType({\n            minimum: 1,\n        }),\n        status: new validation_1.StringType({\n            enumeration: ['placed', 'paid', 'complete'],\n        }),\n    },\n});\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.optionsSchema = void 0;\nvar validation_1 = require(\"../validation\");\nexports.optionsSchema = new validation_1.ObjectType({\n    properties: {\n        timeout: new validation_1.NumberType({\n            integer: true,\n            minimum: 0,\n        }),\n        attributes: new validation_1.JsonObjectType(),\n    },\n});\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.attributeNameSchema = void 0;\nvar validation_1 = require(\"../validation\");\nexports.attributeNameSchema = new validation_1.StringType({\n    maxLength: 50,\n    format: 'identifier',\n});\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.userProfileSchema = void 0;\nvar validation_1 = require(\"../validation\");\nvar attributeSchema_1 = require(\"./attributeSchema\");\nexports.userProfileSchema = new validation_1.ObjectType({\n    properties: {\n        firstName: new validation_1.StringType({\n            minLength: 1,\n            maxLength: 50,\n        }),\n        lastName: new validation_1.StringType({\n            minLength: 1,\n            maxLength: 50,\n        }),\n        birthDate: new validation_1.StringType({\n            format: 'date',\n        }),\n        gender: new validation_1.StringType({\n            enumeration: ['male', 'female', 'neutral', 'unknown'],\n        }),\n        email: new validation_1.StringType({\n            minLength: 1,\n            maxLength: 254,\n        }),\n        alternateEmail: new validation_1.StringType({\n            minLength: 1,\n            maxLength: 254,\n        }),\n        phone: new validation_1.StringType({\n            minLength: 1,\n            maxLength: 30,\n        }),\n        alternatePhone: new validation_1.StringType({\n            minLength: 1,\n            maxLength: 30,\n        }),\n        address: new validation_1.ObjectType({\n            properties: {\n                street: new validation_1.StringType({\n                    minLength: 1,\n                    maxLength: 100,\n                }),\n                district: new validation_1.StringType({\n                    minLength: 1,\n                    maxLength: 100,\n                }),\n                city: new validation_1.StringType({\n                    minLength: 1,\n                    maxLength: 100,\n                }),\n                region: new validation_1.StringType({\n                    minLength: 1,\n                    maxLength: 100,\n                }),\n                country: new validation_1.StringType({\n                    minLength: 1,\n                    maxLength: 100,\n                }),\n                postalCode: new validation_1.StringType({\n                    minLength: 1,\n                    maxLength: 20,\n                }),\n            },\n        }),\n        avatar: new validation_1.StringType({\n            maxLength: 500,\n            format: 'url',\n        }),\n        company: new validation_1.StringType({\n            minLength: 1,\n            maxLength: 200,\n        }),\n        companyUrl: new validation_1.StringType({\n            maxLength: 200,\n            format: 'url',\n        }),\n        jobTitle: new validation_1.StringType({\n            minLength: 1,\n            maxLength: 50,\n        }),\n        interests: new validation_1.ArrayType({\n            maxItems: 30,\n            items: new validation_1.StringType({\n                minLength: 1,\n                maxLength: 30,\n            }),\n        }),\n        activities: new validation_1.ArrayType({\n            maxItems: 30,\n            items: new validation_1.StringType({\n                minLength: 1,\n                maxLength: 30,\n            }),\n        }),\n        custom: new validation_1.ObjectType({\n            propertyNames: attributeSchema_1.attributeNameSchema,\n            maxProperties: 10,\n            additionalProperties: new validation_1.UnionType(new validation_1.BooleanType(), new validation_1.NullType(), new validation_1.NumberType(), new validation_1.StringType({\n                maxLength: 100,\n            }), new validation_1.ArrayType({\n                maxItems: 10,\n                items: new validation_1.UnionType(new validation_1.BooleanType(), new validation_1.NullType(), new validation_1.NumberType(), new validation_1.StringType({\n                    maxLength: 100,\n                }), new validation_1.ArrayType({\n                    maxItems: 10,\n                    items: new validation_1.UnionType(new validation_1.BooleanType(), new validation_1.NullType(), new validation_1.NumberType(), new validation_1.StringType({\n                        maxLength: 100,\n                    })),\n                }), new validation_1.ObjectType({\n                    propertyNames: attributeSchema_1.attributeNameSchema,\n                    maxProperties: 10,\n                    additionalProperties: new validation_1.UnionType(new validation_1.BooleanType(), new validation_1.NullType(), new validation_1.NumberType(), new validation_1.StringType({\n                        maxLength: 100,\n                    })),\n                })),\n            }), new validation_1.ObjectType({\n                propertyNames: attributeSchema_1.attributeNameSchema,\n                maxProperties: 10,\n                additionalProperties: new validation_1.UnionType(new validation_1.BooleanType(), new validation_1.NullType(), new validation_1.NumberType(), new validation_1.StringType({\n                    maxLength: 100,\n                }), new validation_1.ArrayType({\n                    maxItems: 10,\n                    items: new validation_1.UnionType(new validation_1.BooleanType(), new validation_1.NullType(), new validation_1.NumberType(), new validation_1.StringType({\n                        maxLength: 100,\n                    })),\n                }), new validation_1.ObjectType({\n                    propertyNames: attributeSchema_1.attributeNameSchema,\n                    maxProperties: 10,\n                    additionalProperties: new validation_1.UnionType(new validation_1.BooleanType(), new validation_1.NullType(), new validation_1.NumberType(), new validation_1.StringType({\n                        maxLength: 100,\n                    })),\n                })),\n            })),\n        }),\n    },\n});\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.postDetails = void 0;\nvar validation_1 = require(\"../validation\");\nexports.postDetails = new validation_1.ObjectType({\n    required: ['postId', 'title', 'publishTime'],\n    properties: {\n        postId: new validation_1.StringType({\n            minLength: 1,\n            maxLength: 100,\n        }),\n        url: new validation_1.StringType({\n            format: 'url',\n        }),\n        title: new validation_1.StringType({\n            minLength: 1,\n            maxLength: 100,\n        }),\n        tags: new validation_1.ArrayType({\n            items: new validation_1.StringType({\n                minLength: 1,\n                maxLength: 50,\n            }),\n            minItems: 1,\n            maxItems: 10,\n        }),\n        categories: new validation_1.ArrayType({\n            items: new validation_1.StringType({\n                minLength: 1,\n                maxLength: 50,\n            }),\n            minItems: 1,\n            maxItems: 10,\n        }),\n        authors: new validation_1.ArrayType({\n            items: new validation_1.StringType({\n                minLength: 1,\n                maxLength: 50,\n            }),\n            minItems: 1,\n            maxItems: 10,\n        }),\n        publishTime: new validation_1.NumberType(),\n        updateTime: new validation_1.NumberType(),\n    },\n});\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.eventOccurred = exports.linkOpened = exports.postViewed = exports.interestShown = exports.goalCompleted = exports.userSignedUp = exports.productViewed = exports.orderPlaced = exports.checkoutStarted = exports.cartViewed = exports.cartModified = void 0;\nvar validation_1 = require(\"../validation\");\nvar ecommerceSchemas_1 = require(\"./ecommerceSchemas\");\nvar userSchema_1 = require(\"./userSchema\");\nvar contentSchemas_1 = require(\"./contentSchemas\");\nexports.cartModified = new validation_1.ObjectType({\n    required: ['cart'],\n    properties: {\n        cart: ecommerceSchemas_1.cart,\n    },\n});\nexports.cartViewed = new validation_1.ObjectType({\n    required: ['cart'],\n    properties: {\n        cart: ecommerceSchemas_1.cart,\n    },\n});\nexports.checkoutStarted = new validation_1.ObjectType({\n    required: ['cart'],\n    properties: {\n        cart: ecommerceSchemas_1.cart,\n        orderId: new validation_1.StringType({\n            minLength: 1,\n            maxLength: 50,\n        }),\n    },\n});\nexports.orderPlaced = new validation_1.ObjectType({\n    required: ['order'],\n    properties: {\n        order: ecommerceSchemas_1.order,\n    },\n});\nexports.productViewed = new validation_1.ObjectType({\n    required: ['product'],\n    properties: {\n        product: ecommerceSchemas_1.productDetails,\n    },\n});\nexports.userSignedUp = new validation_1.ObjectType({\n    required: ['userId'],\n    properties: {\n        userId: new validation_1.StringType({\n            minLength: 1,\n            maxLength: 254,\n        }),\n        profile: userSchema_1.userProfileSchema,\n    },\n});\nexports.goalCompleted = new validation_1.ObjectType({\n    required: ['goalId'],\n    properties: {\n        goalId: new validation_1.StringType({\n            minLength: 1,\n            maxLength: 50,\n        }),\n        value: new validation_1.NumberType({\n            minimum: 0,\n        }),\n        currency: new validation_1.StringType({\n            minLength: 1,\n            maxLength: 10,\n        }),\n    },\n});\nexports.interestShown = new validation_1.ObjectType({\n    required: ['interests'],\n    properties: {\n        interests: new validation_1.ArrayType({\n            items: new validation_1.StringType({\n                minLength: 1,\n                maxLength: 50,\n            }),\n            minItems: 1,\n            maxItems: 10,\n        }),\n    },\n});\nexports.postViewed = new validation_1.ObjectType({\n    required: ['post'],\n    properties: {\n        post: contentSchemas_1.postDetails,\n    },\n});\nexports.linkOpened = new validation_1.ObjectType({\n    required: ['link'],\n    properties: {\n        link: new validation_1.StringType({\n            format: 'uri-reference',\n        }),\n    },\n});\nexports.eventOccurred = new validation_1.ObjectType({\n    required: ['name'],\n    properties: {\n        name: new validation_1.StringType({\n            minLength: 1,\n            maxLength: 50,\n        }),\n        testId: new validation_1.StringType({\n            minLength: 1,\n            maxLength: 50,\n        }),\n        groupId: new validation_1.StringType({\n            minLength: 1,\n            maxLength: 50,\n        }),\n        personalizationId: new validation_1.StringType({\n            minLength: 1,\n            maxLength: 50,\n        }),\n        audience: new validation_1.StringType({\n            minLength: 1,\n            maxLength: 50,\n        }),\n        details: new validation_1.ObjectType({\n            additionalProperties: new validation_1.UnionType(new validation_1.NullType(), new validation_1.BooleanType(), new validation_1.NumberType(), new validation_1.StringType({\n                maxLength: 300,\n            })),\n            propertyNames: new validation_1.StringType({\n                minLength: 1,\n                maxLength: 20,\n                format: 'identifier',\n            }),\n            maxProperties: 10,\n        }),\n    },\n});\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.loggerSchema = void 0;\nvar validation_1 = require(\"../validation\");\nexports.loggerSchema = new validation_1.ObjectType({\n    required: ['debug', 'info', 'warn', 'error'],\n    additionalProperties: true,\n    properties: {\n        debug: new validation_1.FunctionType(),\n        info: new validation_1.FunctionType(),\n        warn: new validation_1.FunctionType(),\n        error: new validation_1.FunctionType(),\n    },\n});\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.removeOperation = exports.unsetOperation = exports.clearOperation = exports.incrementOperation = exports.decrementOperation = exports.mergeOperation = exports.combineOperation = exports.setOperation = exports.addOperation = void 0;\nvar validation_1 = require(\"../validation\");\nvar attributeSchema_1 = require(\"./attributeSchema\");\nvar pointer = new validation_1.StringType({\n    format: 'pointer',\n});\nvar simpleArray = new validation_1.JsonArrayType({\n    items: new validation_1.JsonPrimitiveType(),\n});\nvar simpleMap = new validation_1.JsonObjectType({\n    properties: new validation_1.JsonPrimitiveType(),\n    propertyNames: attributeSchema_1.attributeNameSchema,\n});\nvar complexMap = new validation_1.JsonObjectType({\n    properties: new validation_1.UnionType(new validation_1.JsonPrimitiveType(), simpleArray, simpleMap),\n    propertyNames: attributeSchema_1.attributeNameSchema,\n});\nvar collectionValue = new validation_1.UnionType(simpleArray, complexMap);\nvar mixedValue = new validation_1.UnionType(new validation_1.JsonPrimitiveType(), simpleArray, complexMap);\nexports.addOperation = new validation_1.ObjectType({\n    required: ['path', 'value'],\n    properties: {\n        path: pointer,\n        value: mixedValue,\n    },\n});\nexports.setOperation = new validation_1.ObjectType({\n    required: ['path', 'value'],\n    properties: {\n        path: pointer,\n        value: mixedValue,\n    },\n});\nexports.combineOperation = new validation_1.ObjectType({\n    required: ['path', 'value'],\n    properties: {\n        path: pointer,\n        value: mixedValue,\n    },\n});\nexports.mergeOperation = new validation_1.ObjectType({\n    required: ['path', 'value'],\n    properties: {\n        path: pointer,\n        value: collectionValue,\n    },\n});\nexports.decrementOperation = new validation_1.ObjectType({\n    required: ['path', 'value'],\n    properties: {\n        path: pointer,\n        value: new validation_1.NumberType(),\n    },\n});\nexports.incrementOperation = new validation_1.ObjectType({\n    required: ['path', 'value'],\n    properties: {\n        path: pointer,\n        value: new validation_1.NumberType(),\n    },\n});\nexports.clearOperation = new validation_1.ObjectType({\n    required: ['path'],\n    properties: {\n        path: pointer,\n    },\n});\nexports.unsetOperation = new validation_1.ObjectType({\n    required: ['path'],\n    properties: {\n        path: pointer,\n    },\n});\nexports.removeOperation = new validation_1.ObjectType({\n    required: ['path', 'value'],\n    properties: {\n        path: pointer,\n        value: mixedValue,\n    },\n});\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sdkConfigurationSchema = exports.eventMetadataSchema = void 0;\nvar validation_1 = require(\"../validation\");\nvar contextSchemas_1 = require(\"./contextSchemas\");\nvar loggerSchema_1 = require(\"./loggerSchema\");\nexports.eventMetadataSchema = new validation_1.ObjectType({\n    maxProperties: 5,\n    propertyNames: new validation_1.StringType({\n        minLength: 1,\n        maxLength: 20,\n        format: 'identifier',\n    }),\n    additionalProperties: new validation_1.StringType({\n        maxLength: 300,\n    }),\n});\nexports.sdkConfigurationSchema = new validation_1.ObjectType({\n    required: ['appId'],\n    properties: {\n        appId: new validation_1.StringType({\n            format: 'uuid',\n        }),\n        cid: new validation_1.StringType({\n            pattern: /^[0-9a-f]{32}$/i,\n        }),\n        tokenScope: contextSchemas_1.tokenScopeSchema,\n        trackerEndpointUrl: new validation_1.StringType({\n            format: 'url',\n        }),\n        evaluationEndpointUrl: new validation_1.StringType({\n            format: 'url',\n        }),\n        bootstrapEndpointUrl: new validation_1.StringType({\n            format: 'url',\n        }),\n        beaconQueueSize: new validation_1.NumberType({\n            minimum: 0,\n            integer: true,\n        }),\n        debug: new validation_1.BooleanType(),\n        test: new validation_1.BooleanType(),\n        logger: loggerSchema_1.loggerSchema,\n        urlSanitizer: new validation_1.FunctionType(),\n        eventMetadata: exports.eventMetadataSchema,\n    },\n});\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sdkFacadeConfigurationSchema = void 0;\nvar validation_1 = require(\"../validation\");\nvar contextSchemas_1 = require(\"./contextSchemas\");\nvar sdkSchemas_1 = require(\"./sdkSchemas\");\nvar loggerSchema_1 = require(\"./loggerSchema\");\nexports.sdkFacadeConfigurationSchema = new validation_1.ObjectType({\n    required: ['appId'],\n    properties: {\n        appId: new validation_1.StringType({\n            format: 'uuid',\n        }),\n        cid: new validation_1.StringType({\n            pattern: /^[0-9a-f]{32}$/i,\n        }),\n        tokenScope: contextSchemas_1.tokenScopeSchema,\n        debug: new validation_1.BooleanType(),\n        test: new validation_1.BooleanType(),\n        track: new validation_1.BooleanType(),\n        logger: loggerSchema_1.loggerSchema,\n        urlSanitizer: new validation_1.FunctionType(),\n        eventMetadata: sdkSchemas_1.eventMetadataSchema,\n        userId: new validation_1.StringType({\n            minLength: 1,\n        }),\n        token: new validation_1.UnionType(new validation_1.StringType({\n            pattern: /^[A-Za-z0-9-_=]+\\.[A-Za-z0-9-_=]+\\.?[A-Za-z0-9-_.+/=]*$/,\n        }), new validation_1.NullType()),\n        trackerEndpointUrl: new validation_1.StringType({\n            format: 'url',\n        }),\n        evaluationEndpointUrl: new validation_1.StringType({\n            format: 'url',\n        }),\n        bootstrapEndpointUrl: new validation_1.StringType({\n            format: 'url',\n        }),\n    },\n});\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.tokenSchema = void 0;\nvar validation_1 = require(\"../validation\");\nexports.tokenSchema = new validation_1.ObjectType({\n    required: ['headers', 'claims'],\n    properties: {\n        headers: new validation_1.ObjectType({\n            required: ['typ', 'alg', 'appId'],\n            properties: {\n                typ: new validation_1.StringType(),\n                alg: new validation_1.StringType(),\n                kid: new validation_1.StringType(),\n                appId: new validation_1.StringType({\n                    format: 'uuid',\n                }),\n            },\n        }),\n        claims: new validation_1.ObjectType({\n            required: ['iss', 'aud', 'iat'],\n            properties: {\n                iss: new validation_1.StringType(),\n                aud: new validation_1.UnionType(new validation_1.StringType(), new validation_1.ArrayType({ items: new validation_1.StringType() })),\n                iat: new validation_1.NumberType({\n                    minimum: 0,\n                }),\n                sub: new validation_1.StringType({\n                    minLength: 1,\n                }),\n                exp: new validation_1.NumberType({\n                    minimum: 0,\n                }),\n                jti: new validation_1.StringType({\n                    format: 'uuid',\n                }),\n            },\n        }),\n        signature: new validation_1.StringType(),\n    },\n});\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./contextSchemas\"), exports);\ntslib_1.__exportStar(require(\"./ecommerceSchemas\"), exports);\ntslib_1.__exportStar(require(\"./evaluationSchemas\"), exports);\ntslib_1.__exportStar(require(\"./eventSchemas\"), exports);\ntslib_1.__exportStar(require(\"./loggerSchema\"), exports);\ntslib_1.__exportStar(require(\"./operationSchemas\"), exports);\ntslib_1.__exportStar(require(\"./sdkFacadeSchemas\"), exports);\ntslib_1.__exportStar(require(\"./sdkSchemas\"), exports);\ntslib_1.__exportStar(require(\"./tokenSchema\"), exports);\ntslib_1.__exportStar(require(\"./userSchema\"), exports);\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.formatCause = exports.formatMessage = void 0;\nfunction extractMessage(error) {\n    if (error instanceof Error) {\n        return error.message;\n    }\n    if (typeof error === 'string' && error !== '') {\n        return error;\n    }\n    return 'unknown error';\n}\nfunction formatMessage(error) {\n    var message = extractMessage(error);\n    if (message.length === 0) {\n        return message;\n    }\n    return message.charAt(0).toUpperCase() + message.slice(1);\n}\nexports.formatMessage = formatMessage;\nfunction formatCause(error) {\n    var message = formatMessage(error);\n    if (message.length === 0) {\n        return message;\n    }\n    return message.charAt(0).toLowerCase() + message.slice(1);\n}\nexports.formatCause = formatCause;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TabContextFactory = exports.MinimalContextFactory = exports.EvaluatorFacade = void 0;\nvar tslib_1 = require(\"tslib\");\nvar schema_1 = require(\"../schema\");\nvar error_1 = require(\"../error\");\nfunction validate(options) {\n    if (typeof options !== 'object' || options === null) {\n        throw new Error('The options must be an object.');\n    }\n    try {\n        schema_1.optionsSchema.validate(options);\n    }\n    catch (violation) {\n        throw new Error(\"Invalid options: \".concat((0, error_1.formatCause)(violation)));\n    }\n}\nvar EvaluatorFacade = /** @class */ (function () {\n    function EvaluatorFacade(evaluator, contextFactory) {\n        this.evaluator = evaluator;\n        this.contextFactory = contextFactory;\n    }\n    EvaluatorFacade.prototype.evaluate = function (expression, options) {\n        if (options === void 0) { options = {}; }\n        if (typeof expression !== 'string' || expression.length === 0) {\n            throw new Error('The expression must be a non-empty string.');\n        }\n        validate(options);\n        return this.evaluator.evaluate(expression, {\n            timeout: options.timeout,\n            context: this.contextFactory.createContext(options.attributes),\n        });\n    };\n    return EvaluatorFacade;\n}());\nexports.EvaluatorFacade = EvaluatorFacade;\nvar MinimalContextFactory = /** @class */ (function () {\n    function MinimalContextFactory() {\n    }\n    MinimalContextFactory.prototype.createContext = function (attributes) {\n        if (attributes === undefined) {\n            return {};\n        }\n        return { attributes: attributes };\n    };\n    return MinimalContextFactory;\n}());\nexports.MinimalContextFactory = MinimalContextFactory;\nvar TabContextFactory = /** @class */ (function () {\n    function TabContextFactory(tab) {\n        this.tab = tab;\n    }\n    TabContextFactory.prototype.createContext = function (attributes) {\n        var url = new URL(this.tab.url);\n        var context = {};\n        var page = {\n            title: this.tab.title,\n            url: url.toString(),\n        };\n        var referrer = this.tab.referrer;\n        if (referrer.length > 0) {\n            page.referrer = referrer;\n        }\n        context.page = page;\n        var timezone = Intl.DateTimeFormat().resolvedOptions().timeZone || null;\n        if (timezone !== null) {\n            context.timezone = timezone;\n        }\n        var campaign = TabContextFactory.createCampaign(url);\n        if (Object.keys(campaign).length > 0) {\n            context.campaign = campaign;\n        }\n        if (attributes !== undefined && Object.keys(attributes).length > 0) {\n            context.attributes = attributes;\n        }\n        return context;\n    };\n    TabContextFactory.createCampaign = function (url) {\n        var e_1, _a;\n        var campaign = {};\n        try {\n            for (var _b = tslib_1.__values(url.searchParams.entries()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var _d = tslib_1.__read(_c.value, 2), parameter = _d[0], value = _d[1];\n                switch (parameter.toLowerCase()) {\n                    case 'utm_campaign':\n                        campaign.name = value;\n                        break;\n                    case 'utm_source':\n                        campaign.source = value;\n                        break;\n                    case 'utm_term':\n                        campaign.term = value;\n                        break;\n                    case 'utm_medium':\n                        campaign.medium = value;\n                        break;\n                    case 'utm_content':\n                        campaign.content = value;\n                        break;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return campaign;\n    };\n    return TabContextFactory;\n}());\nexports.TabContextFactory = TabContextFactory;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TrackerFacade = void 0;\nvar tslib_1 = require(\"tslib\");\nvar error_1 = require(\"../error\");\nvar schema_1 = require(\"../schema\");\nvar eventSchemas = {\n    cartViewed: schema_1.cartViewed,\n    cartModified: schema_1.cartModified,\n    checkoutStarted: schema_1.checkoutStarted,\n    orderPlaced: schema_1.orderPlaced,\n    productViewed: schema_1.productViewed,\n    userSignedUp: schema_1.userSignedUp,\n    eventOccurred: schema_1.eventOccurred,\n    interestShown: schema_1.interestShown,\n    postViewed: schema_1.postViewed,\n    goalCompleted: schema_1.goalCompleted,\n    linkOpened: schema_1.linkOpened,\n};\nfunction createEvent(type, payload) {\n    if (typeof type !== 'string') {\n        throw new Error('The event type must of type string.');\n    }\n    if (typeof payload !== 'object' || payload == null) {\n        throw new Error('The event payload must of type object.');\n    }\n    var event = tslib_1.__assign({ type: type }, payload);\n    validateEvent(event);\n    return event;\n}\nfunction validateEvent(event) {\n    var type = event.type, payload = tslib_1.__rest(event, [\"type\"]);\n    if (!(type in eventSchemas)) {\n        throw new Error(\"Unknown event type '\".concat(type, \"'.\"));\n    }\n    try {\n        eventSchemas[type].validate(payload);\n    }\n    catch (violation) {\n        throw new Error(\"Invalid event payload: \".concat((0, error_1.formatCause)(violation)));\n    }\n}\nvar TrackerFacade = /** @class */ (function () {\n    function TrackerFacade(tracker) {\n        this.tracker = tracker;\n    }\n    Object.defineProperty(TrackerFacade.prototype, \"flushed\", {\n        get: function () {\n            return this.tracker.flushed;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    TrackerFacade.prototype.enable = function () {\n        this.tracker.enable();\n    };\n    TrackerFacade.prototype.disable = function () {\n        this.tracker.disable();\n    };\n    TrackerFacade.prototype.addListener = function (listener) {\n        this.tracker.addListener(listener);\n    };\n    TrackerFacade.prototype.removeListener = function (listener) {\n        this.tracker.removeListener(listener);\n    };\n    TrackerFacade.prototype.track = function (type, payload) {\n        return this.tracker.track(createEvent(type, payload));\n    };\n    return TrackerFacade;\n}());\nexports.TrackerFacade = TrackerFacade;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ActiveRecord = void 0;\nvar tslib_1 = require(\"tslib\");\nvar schema_1 = require(\"./schema\");\nvar operationSchema = {\n    add: schema_1.addOperation,\n    set: schema_1.setOperation,\n    merge: schema_1.mergeOperation,\n    combine: schema_1.combineOperation,\n    increment: schema_1.incrementOperation,\n    decrement: schema_1.decrementOperation,\n    clear: schema_1.clearOperation,\n    unset: schema_1.unsetOperation,\n    remove: schema_1.removeOperation,\n};\nvar ActiveRecord = /** @class */ (function () {\n    function ActiveRecord() {\n        this.operations = [];\n    }\n    ActiveRecord.prototype.set = function (propertyOrValue, value) {\n        if (typeof propertyOrValue === 'string') {\n            return this.pushOperation({\n                type: 'set',\n                path: propertyOrValue,\n                value: value,\n            });\n        }\n        return this.pushOperation({\n            type: 'set',\n            path: '.',\n            value: propertyOrValue,\n        });\n    };\n    ActiveRecord.prototype.add = function (property, value) {\n        return this.pushOperation({\n            type: 'add',\n            path: property,\n            value: value,\n        });\n    };\n    ActiveRecord.prototype.combine = function (property, value) {\n        return this.pushOperation({\n            type: 'combine',\n            path: property,\n            value: value,\n        });\n    };\n    ActiveRecord.prototype.merge = function (propertyOrValue, value) {\n        if (typeof propertyOrValue === 'string') {\n            return this.pushOperation({\n                type: 'merge',\n                path: propertyOrValue,\n                value: value,\n            });\n        }\n        return this.pushOperation({\n            type: 'merge',\n            path: '.',\n            value: propertyOrValue,\n        });\n    };\n    ActiveRecord.prototype.increment = function (property, amount) {\n        if (amount === void 0) { amount = 1; }\n        return this.pushOperation({\n            type: 'increment',\n            path: property,\n            value: amount,\n        });\n    };\n    ActiveRecord.prototype.decrement = function (property, amount) {\n        if (amount === void 0) { amount = 1; }\n        return this.pushOperation({\n            type: 'decrement',\n            path: property,\n            value: amount,\n        });\n    };\n    ActiveRecord.prototype.clear = function (property) {\n        return this.pushOperation({\n            type: 'clear',\n            path: property,\n        });\n    };\n    ActiveRecord.prototype.unset = function (property) {\n        return this.pushOperation({\n            type: 'unset',\n            path: property,\n        });\n    };\n    ActiveRecord.prototype.remove = function (property, value) {\n        return this.pushOperation({\n            type: 'remove',\n            path: property,\n            value: value,\n        });\n    };\n    ActiveRecord.prototype.pushOperation = function (operation) {\n        var type = operation.type, data = tslib_1.__rest(operation, [\"type\"]);\n        operationSchema[type].validate(data);\n        this.operations.push(operation);\n        return this;\n    };\n    ActiveRecord.prototype.reset = function () {\n        this.operations.splice(0);\n        return this;\n    };\n    ActiveRecord.prototype.isDirty = function () {\n        return this.operations.length > 0;\n    };\n    ActiveRecord.prototype.buildPatch = function () {\n        return { operations: this.operations.slice() };\n    };\n    return ActiveRecord;\n}());\nexports.ActiveRecord = ActiveRecord;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UserPatch = void 0;\nvar tslib_1 = require(\"tslib\");\nvar activeRecord_1 = require(\"../activeRecord\");\nvar UserPatch = /** @class */ (function (_super) {\n    tslib_1.__extends(UserPatch, _super);\n    function UserPatch(tracker) {\n        var _this = _super.call(this) || this;\n        _this.tracker = tracker;\n        return _this;\n    }\n    UserPatch.prototype.save = function () {\n        if (!this.isDirty()) {\n            // Empty patch\n            return Promise.resolve({\n                type: 'userProfileChanged',\n                patch: { operations: [] },\n            });\n        }\n        var promise = this.tracker.track({\n            type: 'userProfileChanged',\n            patch: this.buildPatch(),\n        });\n        this.reset();\n        return promise;\n    };\n    return UserPatch;\n}(activeRecord_1.ActiveRecord));\nexports.UserPatch = UserPatch;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.UserFacade = void 0;\nvar userPatch_1 = require(\"./userPatch\");\nvar UserFacade = /** @class */ (function () {\n    function UserFacade(context, tracker) {\n        this.context = context;\n        this.tracker = tracker;\n    }\n    UserFacade.prototype.isIdentified = function () {\n        return !this.isAnonymous();\n    };\n    UserFacade.prototype.isAnonymous = function () {\n        return this.context.isAnonymous();\n    };\n    UserFacade.prototype.edit = function () {\n        return new userPatch_1.UserPatch(this.tracker);\n    };\n    return UserFacade;\n}());\nexports.UserFacade = UserFacade;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.base64UrlDecode = exports.base64UrlEncode = void 0;\nfunction base64Unescape(value) {\n    return (value + '==='.slice((value.length + 3) % 4)).replace(/-/g, '+').replace(/_/g, '/');\n}\nfunction base64Escape(value) {\n    return value\n        .replace(/\\+/g, '-')\n        .replace(/\\//g, '_')\n        .replace(/=/g, '');\n}\nfunction base64UrlEncode(value) {\n    return base64Escape(window.btoa(value));\n}\nexports.base64UrlEncode = base64UrlEncode;\nfunction base64UrlDecode(value) {\n    return window.atob(base64Unescape(value));\n}\nexports.base64UrlDecode = base64UrlDecode;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FixedTokenProvider = exports.Token = void 0;\nvar tslib_1 = require(\"tslib\");\nvar base64Url_1 = require(\"../base64Url\");\nvar schema_1 = require(\"../schema\");\nvar error_1 = require(\"../error\");\nvar Token = /** @class */ (function () {\n    function Token(headers, claims, signature) {\n        if (signature === void 0) { signature = ''; }\n        this.headers = headers;\n        this.claims = claims;\n        this.signature = signature;\n    }\n    Token.issue = function (appId, subject, timestamp) {\n        if (subject === void 0) { subject = null; }\n        if (timestamp === void 0) { timestamp = Math.floor(Date.now() / 1000); }\n        if (timestamp < 0) {\n            throw new Error('The timestamp must be non-negative.');\n        }\n        if (subject === '') {\n            throw new Error('The subject must be non-empty.');\n        }\n        return new Token({\n            typ: 'JWT',\n            alg: 'none',\n            appId: appId,\n        }, tslib_1.__assign({ iss: 'croct.io', aud: 'croct.io', iat: timestamp }, (subject !== null ? { sub: subject } : null)));\n    };\n    Token.parse = function (token) {\n        if (token === '') {\n            throw new Error('The token cannot be empty.');\n        }\n        var parts = token.split('.', 3);\n        // This token is invalid\n        if (parts.length < 2) {\n            throw new Error('The token is malformed.');\n        }\n        var headers;\n        var claims;\n        var signature;\n        try {\n            headers = JSON.parse((0, base64Url_1.base64UrlDecode)(parts[0]));\n            claims = JSON.parse((0, base64Url_1.base64UrlDecode)(parts[1]));\n            if (parts.length === 3) {\n                signature = (0, base64Url_1.base64UrlDecode)(parts[2]);\n            }\n        }\n        catch (_a) {\n            throw new Error('The token is corrupted.');\n        }\n        try {\n            schema_1.tokenSchema.validate({ headers: headers, claims: claims, signature: signature });\n        }\n        catch (violation) {\n            throw new Error(\"The token is invalid: \".concat((0, error_1.formatCause)(violation)));\n        }\n        return new Token(headers, claims, signature);\n    };\n    Token.prototype.getHeaders = function () {\n        return tslib_1.__assign({}, this.headers);\n    };\n    Token.prototype.getClaims = function () {\n        return tslib_1.__assign({}, this.claims);\n    };\n    Token.prototype.getSignature = function () {\n        return this.signature;\n    };\n    Token.prototype.isAnonymous = function () {\n        return this.claims.sub === undefined;\n    };\n    Token.prototype.getSubject = function () {\n        return this.claims.sub !== undefined ? this.claims.sub : null;\n    };\n    Token.prototype.getIssueTime = function () {\n        return this.claims.iat;\n    };\n    Token.prototype.toJSON = function () {\n        return this.toString();\n    };\n    Token.prototype.toString = function () {\n        var headers = (0, base64Url_1.base64UrlEncode)(JSON.stringify(this.headers));\n        var claims = (0, base64Url_1.base64UrlEncode)(JSON.stringify(this.claims));\n        var signature = (0, base64Url_1.base64UrlEncode)(this.signature);\n        return \"\".concat(headers, \".\").concat(claims, \".\").concat(signature);\n    };\n    return Token;\n}());\nexports.Token = Token;\nvar FixedTokenProvider = /** @class */ (function () {\n    function FixedTokenProvider(token) {\n        this.token = token;\n    }\n    FixedTokenProvider.prototype.getToken = function () {\n        return this.token;\n    };\n    return FixedTokenProvider;\n}());\nexports.FixedTokenProvider = FixedTokenProvider;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CachedTokenStore = void 0;\nvar token_1 = require(\"./token\");\nvar CachedTokenStore = /** @class */ (function () {\n    function CachedTokenStore(cache) {\n        this.cache = cache;\n    }\n    CachedTokenStore.prototype.getToken = function () {\n        var data = this.cache.get();\n        if (data === null) {\n            return null;\n        }\n        try {\n            return token_1.Token.parse(data);\n        }\n        catch (error) {\n            return null;\n        }\n    };\n    CachedTokenStore.prototype.setToken = function (token) {\n        if (token === null) {\n            this.cache.clear();\n            return;\n        }\n        this.cache.put(token.toString());\n    };\n    return CachedTokenStore;\n}());\nexports.CachedTokenStore = CachedTokenStore;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InMemoryTokenStore = void 0;\nvar InMemoryTokenStore = /** @class */ (function () {\n    function InMemoryTokenStore() {\n        this.token = null;\n    }\n    InMemoryTokenStore.prototype.getToken = function () {\n        return this.token;\n    };\n    InMemoryTokenStore.prototype.setToken = function (token) {\n        this.token = token;\n    };\n    return InMemoryTokenStore;\n}());\nexports.InMemoryTokenStore = InMemoryTokenStore;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReplicatedTokenStore = void 0;\nvar ReplicatedTokenStore = /** @class */ (function () {\n    function ReplicatedTokenStore(primary, secondary) {\n        this.primary = primary;\n        this.secondary = secondary;\n    }\n    ReplicatedTokenStore.prototype.getToken = function () {\n        return this.primary.getToken();\n    };\n    ReplicatedTokenStore.prototype.setToken = function (token) {\n        this.primary.setToken(token);\n        this.secondary.setToken(token);\n    };\n    return ReplicatedTokenStore;\n}());\nexports.ReplicatedTokenStore = ReplicatedTokenStore;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReplicatedTokenStore = exports.InMemoryTokenStore = exports.CachedTokenStore = void 0;\nvar tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./token\"), exports);\nvar cachedTokenStore_1 = require(\"./cachedTokenStore\");\nObject.defineProperty(exports, \"CachedTokenStore\", { enumerable: true, get: function () { return cachedTokenStore_1.CachedTokenStore; } });\nvar inMemoryTokenStore_1 = require(\"./inMemoryTokenStore\");\nObject.defineProperty(exports, \"InMemoryTokenStore\", { enumerable: true, get: function () { return inMemoryTokenStore_1.InMemoryTokenStore; } });\nvar replicatedTokenStore_1 = require(\"./replicatedTokenStore\");\nObject.defineProperty(exports, \"ReplicatedTokenStore\", { enumerable: true, get: function () { return replicatedTokenStore_1.ReplicatedTokenStore; } });\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConsoleLogger = void 0;\nvar ConsoleLogger = /** @class */ (function () {\n    function ConsoleLogger(namespace) {\n        this.namespace = namespace;\n    }\n    Object.defineProperty(ConsoleLogger.prototype, \"debug\", {\n        get: function () {\n            return this.bind(window.console.debug);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ConsoleLogger.prototype, \"info\", {\n        get: function () {\n            return this.bind(window.console.info);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ConsoleLogger.prototype, \"warn\", {\n        get: function () {\n            return this.bind(window.console.warn);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ConsoleLogger.prototype, \"error\", {\n        get: function () {\n            return this.bind(window.console.error);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ConsoleLogger.prototype.bind = function (method) {\n        if (this.namespace !== undefined) {\n            return method.bind(window.console, \"[\".concat(this.namespace, \"]\"));\n        }\n        return method.bind(window.console);\n    };\n    return ConsoleLogger;\n}());\nexports.ConsoleLogger = ConsoleLogger;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NamespacedLogger = void 0;\nvar NamespacedLogger = /** @class */ (function () {\n    function NamespacedLogger(logger, namespace) {\n        this.logger = logger;\n        this.namespace = namespace;\n    }\n    NamespacedLogger.prototype.debug = function (message) {\n        this.logger.debug(this.format(message));\n    };\n    NamespacedLogger.prototype.info = function (message) {\n        this.logger.info(this.format(message));\n    };\n    NamespacedLogger.prototype.warn = function (message) {\n        this.logger.warn(this.format(message));\n    };\n    NamespacedLogger.prototype.error = function (message) {\n        this.logger.error(this.format(message));\n    };\n    NamespacedLogger.prototype.format = function (message) {\n        return \"[\".concat(this.namespace, \"] \").concat(message);\n    };\n    return NamespacedLogger;\n}());\nexports.NamespacedLogger = NamespacedLogger;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NullLogger = void 0;\nvar NullLogger = /** @class */ (function () {\n    function NullLogger() {\n    }\n    NullLogger.prototype.debug = function () {\n        // suppress debug logs\n    };\n    NullLogger.prototype.info = function () {\n        // suppress info logs\n    };\n    NullLogger.prototype.warn = function () {\n        // suppress warning logs\n    };\n    NullLogger.prototype.error = function () {\n        // suppress error logs\n    };\n    return NullLogger;\n}());\nexports.NullLogger = NullLogger;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NullLogger = exports.NamespacedLogger = exports.ConsoleLogger = void 0;\nvar tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./logger\"), exports);\nvar consoleLogger_1 = require(\"./consoleLogger\");\nObject.defineProperty(exports, \"ConsoleLogger\", { enumerable: true, get: function () { return consoleLogger_1.ConsoleLogger; } });\nvar namespacedLogger_1 = require(\"./namespacedLogger\");\nObject.defineProperty(exports, \"NamespacedLogger\", { enumerable: true, get: function () { return namespacedLogger_1.NamespacedLogger; } });\nvar nullLogger_1 = require(\"./nullLogger\");\nObject.defineProperty(exports, \"NullLogger\", { enumerable: true, get: function () { return nullLogger_1.NullLogger; } });\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SynchronousEventManager = void 0;\nvar SynchronousEventManager = /** @class */ (function () {\n    function SynchronousEventManager() {\n        this.listeners = {};\n    }\n    SynchronousEventManager.prototype.addListener = function (type, listener) {\n        var _a;\n        var listeners = (_a = this.listeners[type]) !== null && _a !== void 0 ? _a : [];\n        listeners.push(listener);\n        this.listeners[type] = listeners;\n    };\n    SynchronousEventManager.prototype.removeListener = function (eventName, listener) {\n        var listeners = this.listeners[eventName];\n        if (listeners === undefined) {\n            return;\n        }\n        var index = listeners.indexOf(listener);\n        if (index >= 0) {\n            listeners.splice(index, 1);\n        }\n    };\n    SynchronousEventManager.prototype.dispatch = function (eventName, event) {\n        var listeners = this.listeners[eventName];\n        if (listeners !== undefined) {\n            listeners.forEach(function (listener) { return listener(event); });\n        }\n    };\n    return SynchronousEventManager;\n}());\nexports.SynchronousEventManager = SynchronousEventManager;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Tab = void 0;\nvar eventManager_1 = require(\"./eventManager\");\nvar EventMap = {\n    focus: 'focus',\n    blur: 'blur',\n    beforeunload: 'unload',\n    DOMContentLoaded: 'load',\n    visibilitychange: 'visibilityChange',\n};\nvar Tab = /** @class */ (function () {\n    function Tab(id, isNew, urlSanitizer) {\n        this.eventManager = new eventManager_1.SynchronousEventManager();\n        this.id = id;\n        this.isNew = isNew;\n        this.urlSanitizer = urlSanitizer;\n        this.initialize();\n    }\n    Tab.prototype.initialize = function () {\n        var _this = this;\n        var listener = function (event) {\n            _this.emit(EventMap[event.type], new CustomEvent(EventMap[event.type], { detail: { tab: _this } }));\n        };\n        window.addEventListener('focus', listener, true);\n        window.addEventListener('blur', listener, true);\n        window.addEventListener('beforeunload', listener, true);\n        window.addEventListener('DOMContentLoaded', listener, true);\n        document.addEventListener('visibilitychange', function () {\n            _this.emit('visibilityChange', new CustomEvent('visibilityChange', {\n                detail: {\n                    tab: _this,\n                    visible: _this.isVisible,\n                },\n            }));\n        }, true);\n        Tab.addUrlChangeListener(function (url) {\n            _this.emit('urlChange', new CustomEvent('urlChange', { detail: { tab: _this, url: _this.sanitizeUrl(url) } }));\n        });\n    };\n    Object.defineProperty(Tab.prototype, \"url\", {\n        get: function () {\n            return this.sanitizeUrl(window.location.href);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Tab.prototype, \"title\", {\n        get: function () {\n            return document.title;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Tab.prototype, \"referrer\", {\n        get: function () {\n            return document.referrer === '' ? '' : this.sanitizeUrl(document.referrer);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Tab.prototype, \"isVisible\", {\n        get: function () {\n            return document.visibilityState === 'visible';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Tab.prototype, \"document\", {\n        get: function () {\n            return document;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Tab.prototype.addListener = function (type, listener) {\n        this.eventManager.addListener(type, listener);\n    };\n    Tab.prototype.removeListener = function (type, listener) {\n        this.eventManager.removeListener(type, listener);\n    };\n    Tab.prototype.sanitizeUrl = function (url) {\n        var normalized = window.encodeURI(window.decodeURI(url));\n        if (this.urlSanitizer !== undefined) {\n            return this.urlSanitizer(normalized).toString();\n        }\n        return normalized;\n    };\n    Tab.prototype.emit = function (type, event) {\n        this.eventManager.dispatch(type, event);\n    };\n    Tab.addUrlChangeListener = function (listener) {\n        var url = window.location.href;\n        var updateUrl = function () {\n            var currentUrl = window.location.href;\n            if (url !== currentUrl) {\n                listener(currentUrl);\n                url = currentUrl;\n            }\n        };\n        var pushState = window.history.pushState;\n        window.history.pushState = function interceptPushState() {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var result = pushState.apply(window.history, args);\n            updateUrl();\n            return result;\n        };\n        var replaceState = window.history.replaceState;\n        window.history.replaceState = function interceptReplaceState() {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var result = replaceState.apply(window.history, args);\n            updateUrl();\n            return result;\n        };\n        window.addEventListener('popstate', updateUrl, true);\n    };\n    return Tab;\n}());\nexports.Tab = Tab;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.uuid4 = void 0;\nfunction uuid4(sortable) {\n    if (sortable === void 0) { sortable = false; }\n    var uuid = '';\n    if (sortable) {\n        var prefix = Date.now().toString(16).padStart(12, '0').substring(0, 12);\n        uuid = \"\".concat(prefix.substring(0, 8), \"-\").concat(prefix.substring(8, 12));\n    }\n    for (var index = uuid.length; index < 36; index++) {\n        switch (index) {\n            case 8:\n            case 13:\n            case 18:\n            case 23:\n                uuid += '-';\n                break;\n            case 14:\n                // bits 12-15 of the time_hi_and_version field to 0010\n                uuid += '4';\n                break;\n            default: {\n                var random = (Math.random() * 16) | 0;\n                if (index === 19) {\n                    // bits 6-7 of the clock_seq_hi_and_reserved to 01\n                    random = (random & 3) | 8;\n                }\n                uuid += random.toString(16);\n            }\n        }\n    }\n    return uuid;\n}\nexports.uuid4 = uuid4;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Context = void 0;\nvar token_1 = require(\"./token\");\nvar tab_1 = require(\"./tab\");\nvar uuid_1 = require(\"./uuid\");\nfunction tokenEquals(left, right) {\n    return left === right || (left !== null && right !== null && left.toString() === right.toString());\n}\nvar Context = /** @class */ (function () {\n    function Context(tab, tokenStore, eventDispatcher) {\n        this.tab = tab;\n        this.tokenStore = tokenStore;\n        this.eventDispatcher = eventDispatcher;\n        this.lastToken = tokenStore.getToken();\n        this.syncToken = this.syncToken.bind(this);\n    }\n    Context.load = function (_a) {\n        var cache = _a.cache, tokenScope = _a.tokenScope, eventDispatcher = _a.eventDispatcher, urlSanitizer = _a.urlSanitizer;\n        var tabId = cache.tabId.get();\n        var newTab = false;\n        if (tabId === null) {\n            tabId = (0, uuid_1.uuid4)(true);\n            newTab = true;\n        }\n        var tab = new tab_1.Tab(tabId, newTab, urlSanitizer);\n        cache.tabId.clear();\n        tab.addListener('unload', function () { return cache.tabId.put(tab.id); });\n        switch (tokenScope) {\n            case 'isolated':\n                return new Context(tab, new token_1.InMemoryTokenStore(), eventDispatcher);\n            case 'global': {\n                var context = new Context(tab, new token_1.CachedTokenStore(cache.browserToken), eventDispatcher);\n                cache.browserToken.addListener(context.syncToken);\n                return context;\n            }\n            case 'contextual': {\n                var primaryStorage_1 = new token_1.CachedTokenStore(cache.tabToken);\n                var secondaryStorage_1 = new token_1.CachedTokenStore(cache.browserToken);\n                if (tab.isNew) {\n                    primaryStorage_1.setToken(secondaryStorage_1.getToken());\n                }\n                tab.addListener('visibilityChange', function (event) {\n                    if (event.detail.visible) {\n                        secondaryStorage_1.setToken(primaryStorage_1.getToken());\n                    }\n                });\n                return new Context(tab, new token_1.ReplicatedTokenStore(primaryStorage_1, secondaryStorage_1), eventDispatcher);\n            }\n        }\n    };\n    Context.prototype.getTab = function () {\n        return this.tab;\n    };\n    Context.prototype.isAnonymous = function () {\n        var token = this.getToken();\n        return token == null || token.isAnonymous();\n    };\n    Context.prototype.getUser = function () {\n        var token = this.getToken();\n        return token == null ? null : token.getSubject();\n    };\n    Context.prototype.getToken = function () {\n        return this.tokenStore.getToken();\n    };\n    Context.prototype.setToken = function (token) {\n        var oldToken = this.lastToken;\n        this.lastToken = token;\n        this.tokenStore.setToken(token);\n        if (!tokenEquals(oldToken, token)) {\n            this.eventDispatcher.dispatch('tokenChanged', {\n                oldToken: oldToken,\n                newToken: token,\n            });\n        }\n    };\n    Context.prototype.syncToken = function () {\n        var newToken = this.tokenStore.getToken();\n        var oldToken = this.lastToken;\n        if (!tokenEquals(oldToken, newToken)) {\n            this.lastToken = newToken;\n            this.eventDispatcher.dispatch('tokenChanged', {\n                oldToken: oldToken,\n                newToken: newToken,\n            });\n        }\n    };\n    return Context;\n}());\nexports.Context = Context;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NamespacedStorage = void 0;\nvar tslib_1 = require(\"tslib\");\nvar NamespacedStorage = /** @class */ (function () {\n    function NamespacedStorage(storage, namespace) {\n        if (namespace === '') {\n            throw new Error('The namespace cannot be empty.');\n        }\n        this.storage = storage;\n        this.namespace = namespace;\n    }\n    Object.defineProperty(NamespacedStorage.prototype, \"length\", {\n        get: function () {\n            return this.getKeys().length;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    NamespacedStorage.prototype.clear = function () {\n        var e_1, _a;\n        try {\n            for (var _b = tslib_1.__values(this.getKeys()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var key = _c.value;\n                this.storage.removeItem(key);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    };\n    NamespacedStorage.prototype.getItem = function (key) {\n        return this.storage.getItem(this.getPrefixedKey(key));\n    };\n    NamespacedStorage.prototype.key = function (index) {\n        var keys = this.getKeys();\n        if (index >= keys.length) {\n            return null;\n        }\n        return keys[index].substring(this.namespace.length + 1);\n    };\n    NamespacedStorage.prototype.removeItem = function (key) {\n        this.storage.removeItem(this.getPrefixedKey(key));\n    };\n    NamespacedStorage.prototype.setItem = function (key, value) {\n        this.storage.setItem(this.getPrefixedKey(key), value);\n    };\n    NamespacedStorage.prototype.getKeys = function () {\n        var keys = [];\n        var prefix = this.getPrefix();\n        for (var index = 0; index < this.storage.length; index++) {\n            var key = this.storage.key(index);\n            if (key !== null && key.indexOf(prefix) === 0) {\n                keys.push(key);\n            }\n        }\n        return keys;\n    };\n    NamespacedStorage.prototype.getPrefixedKey = function (key) {\n        return this.getPrefix() + key;\n    };\n    NamespacedStorage.prototype.getPrefix = function () {\n        return \"\".concat(this.namespace, \".\");\n    };\n    return NamespacedStorage;\n}());\nexports.NamespacedStorage = NamespacedStorage;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ArbitraryPolicy = void 0;\nvar tslib_1 = require(\"tslib\");\nvar ArbitraryPolicy = /** @class */ (function () {\n    function ArbitraryPolicy(delays) {\n        if (delays.length < 1) {\n            throw new Error('The list of delays cannot be empty.');\n        }\n        this.delays = tslib_1.__spreadArray([], tslib_1.__read(delays), false);\n    }\n    ArbitraryPolicy.prototype.getDelay = function (attempt) {\n        return this.delays[Math.min(attempt < 0 ? 0 : attempt, this.delays.length - 1)];\n    };\n    ArbitraryPolicy.prototype.shouldRetry = function () {\n        return true;\n    };\n    return ArbitraryPolicy;\n}());\nexports.ArbitraryPolicy = ArbitraryPolicy;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BackoffPolicy = void 0;\nvar BackoffPolicy = /** @class */ (function () {\n    function BackoffPolicy(options) {\n        if (options === void 0) { options = {}; }\n        this.minRetryDelay = 1000;\n        this.maxRetryDelay = 30000;\n        this.backoffFactor = 2;\n        this.backoffJitter = 1;\n        this.maxAttempts = Infinity;\n        var _a = options.minRetryDelay, minRetryDelay = _a === void 0 ? this.minRetryDelay : _a, _b = options.maxRetryDelay, maxRetryDelay = _b === void 0 ? this.maxRetryDelay : _b, _c = options.backoffFactor, backoffFactor = _c === void 0 ? this.backoffFactor : _c, _d = options.backoffJitter, backoffJitter = _d === void 0 ? this.backoffJitter : _d, _e = options.maxAttempts, maxAttempts = _e === void 0 ? this.maxAttempts : _e;\n        if (minRetryDelay < 0) {\n            throw new Error('The minimum retry delay must be non-negative.');\n        }\n        if (maxRetryDelay < minRetryDelay) {\n            throw new Error('The maximum retry delay must be greater than the minimum.');\n        }\n        if (backoffFactor < 1) {\n            throw new Error('The backoff factor must be greater than zero.');\n        }\n        if (backoffJitter < 0) {\n            throw new Error('The backoff jitter must be non-negative.');\n        }\n        if (maxAttempts < 0) {\n            throw new Error('The maximum attempts must be non-negative.');\n        }\n        this.minRetryDelay = minRetryDelay;\n        this.maxRetryDelay = maxRetryDelay;\n        this.backoffFactor = backoffFactor;\n        this.backoffJitter = backoffJitter;\n        this.maxAttempts = maxAttempts;\n    }\n    /**\n     * Full Jitter algorithm\n     *\n     * @see https://www.awsarchitectureblog.com/2015/03/backoff.html\n     */\n    BackoffPolicy.prototype.getDelay = function (attempt) {\n        var delay = Math.min(Math.max(Math.pow(this.backoffFactor, attempt), this.minRetryDelay), this.maxRetryDelay);\n        if (this.backoffJitter > 0) {\n            // Jitter will result in a random value between the minimum and\n            // calculated delay for a given attempt.\n            var min = Math.ceil(this.minRetryDelay);\n            var max = Math.floor(delay);\n            delay = Math.floor(Math.random() * (max - min + 1)) + min;\n        }\n        // Removing any fractional digits\n        delay -= delay % 1;\n        return delay;\n    };\n    BackoffPolicy.prototype.shouldRetry = function (attempt) {\n        return attempt < this.maxAttempts;\n    };\n    return BackoffPolicy;\n}());\nexports.BackoffPolicy = BackoffPolicy;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MaxAttemptsPolicy = void 0;\nvar MaxAttemptsPolicy = /** @class */ (function () {\n    function MaxAttemptsPolicy(delay, maxAttempts) {\n        if (delay < 0) {\n            throw new Error('Delay must be non-negative.');\n        }\n        if (maxAttempts < 0) {\n            throw new Error('Max attempts must be non-negative.');\n        }\n        this.maxAttempts = maxAttempts;\n        this.delay = delay;\n    }\n    MaxAttemptsPolicy.prototype.getDelay = function () {\n        return this.delay;\n    };\n    MaxAttemptsPolicy.prototype.shouldRetry = function (attempt) {\n        return attempt < this.maxAttempts;\n    };\n    return MaxAttemptsPolicy;\n}());\nexports.MaxAttemptsPolicy = MaxAttemptsPolicy;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NeverPolicy = void 0;\nvar NeverPolicy = /** @class */ (function () {\n    function NeverPolicy() {\n    }\n    NeverPolicy.prototype.getDelay = function () {\n        return Infinity;\n    };\n    NeverPolicy.prototype.shouldRetry = function () {\n        return false;\n    };\n    return NeverPolicy;\n}());\nexports.NeverPolicy = NeverPolicy;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NeverPolicy = exports.MaxAttemptsPolicy = exports.BackoffPolicy = exports.ArbitraryPolicy = void 0;\nvar tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./policy\"), exports);\nvar arbitraryPolicy_1 = require(\"./arbitraryPolicy\");\nObject.defineProperty(exports, \"ArbitraryPolicy\", { enumerable: true, get: function () { return arbitraryPolicy_1.ArbitraryPolicy; } });\nvar backoffPolicy_1 = require(\"./backoffPolicy\");\nObject.defineProperty(exports, \"BackoffPolicy\", { enumerable: true, get: function () { return backoffPolicy_1.BackoffPolicy; } });\nvar maxAttemptsPolicy_1 = require(\"./maxAttemptsPolicy\");\nObject.defineProperty(exports, \"MaxAttemptsPolicy\", { enumerable: true, get: function () { return maxAttemptsPolicy_1.MaxAttemptsPolicy; } });\nvar neverPolicy_1 = require(\"./neverPolicy\");\nObject.defineProperty(exports, \"NeverPolicy\", { enumerable: true, get: function () { return neverPolicy_1.NeverPolicy; } });\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CapacityRestrictedQueue = void 0;\nvar CapacityRestrictedQueue = /** @class */ (function () {\n    function CapacityRestrictedQueue(queue, capacity) {\n        this.queue = queue;\n        this.capacity = capacity;\n    }\n    CapacityRestrictedQueue.prototype.all = function () {\n        return this.queue.all();\n    };\n    CapacityRestrictedQueue.prototype.getCapacity = function () {\n        return this.capacity;\n    };\n    CapacityRestrictedQueue.prototype.isEmpty = function () {\n        return this.queue.isEmpty();\n    };\n    CapacityRestrictedQueue.prototype.length = function () {\n        return Math.min(this.capacity, this.queue.length());\n    };\n    CapacityRestrictedQueue.prototype.peek = function () {\n        return this.queue.peek();\n    };\n    CapacityRestrictedQueue.prototype.push = function (value) {\n        if (this.queue.length() >= this.capacity) {\n            throw new Error('Maximum queue capacity reached.');\n        }\n        this.queue.push(value);\n    };\n    CapacityRestrictedQueue.prototype.shift = function () {\n        return this.queue.shift();\n    };\n    return CapacityRestrictedQueue;\n}());\nexports.CapacityRestrictedQueue = CapacityRestrictedQueue;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InMemoryQueue = void 0;\nvar tslib_1 = require(\"tslib\");\nvar InMemoryQueue = /** @class */ (function () {\n    function InMemoryQueue() {\n        var _a;\n        var values = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            values[_i] = arguments[_i];\n        }\n        this.queue = [];\n        (_a = this.queue).unshift.apply(_a, tslib_1.__spreadArray([], tslib_1.__read(values), false));\n    }\n    InMemoryQueue.prototype.all = function () {\n        return this.queue.slice();\n    };\n    InMemoryQueue.prototype.getCapacity = function () {\n        return Infinity;\n    };\n    InMemoryQueue.prototype.isEmpty = function () {\n        return this.queue.length === 0;\n    };\n    InMemoryQueue.prototype.push = function (value) {\n        this.queue.push(value);\n    };\n    InMemoryQueue.prototype.peek = function () {\n        return this.queue[0] || null;\n    };\n    InMemoryQueue.prototype.shift = function () {\n        var value = this.queue.shift();\n        if (!value) {\n            throw new Error('The queue is empty.');\n        }\n        return value;\n    };\n    InMemoryQueue.prototype.length = function () {\n        return this.queue.length;\n    };\n    return InMemoryQueue;\n}());\nexports.InMemoryQueue = InMemoryQueue;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MonitoredQueue = void 0;\nvar logging_1 = require(\"../logging\");\nvar MonitoredQueue = /** @class */ (function () {\n    function MonitoredQueue(queue, logger) {\n        this.callbacks = {};\n        this.queue = queue;\n        this.logger = logger !== null && logger !== void 0 ? logger : new logging_1.NullLogger();\n        this.updateStatus();\n    }\n    MonitoredQueue.prototype.all = function () {\n        return this.queue.all();\n    };\n    MonitoredQueue.prototype.getCapacity = function () {\n        return this.queue.getCapacity();\n    };\n    MonitoredQueue.prototype.addCallback = function (status, callback) {\n        var callbacks = this.callbacks[status] || [];\n        if (!callbacks.includes(callback)) {\n            callbacks.push(callback);\n        }\n        this.callbacks[status] = callbacks;\n        switch (this.status) {\n            case status:\n                callback(this);\n                break;\n            case 'empty':\n            case 'almostEmpty':\n                if (status === 'halfEmpty') {\n                    callback(this);\n                }\n                break;\n            case 'full':\n            case 'almostFull':\n                if (status === 'halfFull') {\n                    callback(this);\n                }\n                break;\n        }\n    };\n    MonitoredQueue.prototype.removeCallback = function (type, callback) {\n        var callbacks = this.callbacks[type];\n        if (!callbacks) {\n            return;\n        }\n        var index = callbacks.indexOf(callback);\n        if (index >= 0) {\n            callbacks.splice(index, 1);\n        }\n    };\n    MonitoredQueue.prototype.setStatus = function (status) {\n        if (this.status === status) {\n            return;\n        }\n        this.logger.debug(\"Queue status changed to \\\"\".concat(status, \"\\\"\"));\n        this.report(status);\n        this.status = status;\n    };\n    MonitoredQueue.prototype.report = function (status) {\n        var _this = this;\n        var callbacks = this.callbacks[status];\n        if (callbacks !== undefined) {\n            callbacks.forEach(function (callback) { return callback(_this); });\n        }\n        switch (status) {\n            case 'empty':\n            case 'almostEmpty':\n                this.report('halfEmpty');\n                break;\n            case 'full':\n            case 'almostFull':\n                this.report('halfFull');\n                break;\n            default:\n                break;\n        }\n    };\n    MonitoredQueue.prototype.isEmpty = function () {\n        return this.queue.isEmpty();\n    };\n    MonitoredQueue.prototype.length = function () {\n        return this.queue.length();\n    };\n    MonitoredQueue.prototype.peek = function () {\n        return this.queue.peek();\n    };\n    MonitoredQueue.prototype.push = function (value) {\n        this.queue.push(value);\n        this.updateStatus();\n    };\n    MonitoredQueue.prototype.shift = function () {\n        var value = this.queue.shift();\n        this.updateStatus();\n        return value;\n    };\n    MonitoredQueue.prototype.updateStatus = function () {\n        var length = this.queue.length();\n        var capacity = this.getCapacity();\n        if (length <= capacity * 0.5) {\n            if (length === 0) {\n                this.setStatus('empty');\n            }\n            else if (length <= capacity * 0.25) {\n                this.setStatus('almostEmpty');\n            }\n            else {\n                this.setStatus('halfEmpty');\n            }\n            return;\n        }\n        if (length >= capacity) {\n            this.setStatus('full');\n        }\n        else if (length >= capacity * 0.75) {\n            this.setStatus('almostFull');\n        }\n        else {\n            this.setStatus('halfFull');\n        }\n    };\n    return MonitoredQueue;\n}());\nexports.MonitoredQueue = MonitoredQueue;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PersistentQueue = void 0;\nvar PersistentQueue = /** @class */ (function () {\n    function PersistentQueue(storage, key) {\n        if (key === void 0) { key = 'queue'; }\n        this.storage = storage;\n        this.key = key;\n    }\n    PersistentQueue.prototype.all = function () {\n        return this.queue.slice();\n    };\n    PersistentQueue.prototype.getCapacity = function () {\n        return Infinity;\n    };\n    PersistentQueue.prototype.isEmpty = function () {\n        return this.length() === 0;\n    };\n    PersistentQueue.prototype.length = function () {\n        return this.queue.length;\n    };\n    PersistentQueue.prototype.push = function (value) {\n        this.queue.push(value);\n        this.flush();\n    };\n    PersistentQueue.prototype.peek = function () {\n        var item = this.queue[0];\n        if (item === undefined) {\n            return null;\n        }\n        return item;\n    };\n    PersistentQueue.prototype.shift = function () {\n        var value = this.queue.shift();\n        if (!value) {\n            throw new Error('The queue is empty.');\n        }\n        this.flush();\n        return value;\n    };\n    Object.defineProperty(PersistentQueue.prototype, \"queue\", {\n        get: function () {\n            if (!this.cache) {\n                this.cache = this.load();\n            }\n            return this.cache;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    PersistentQueue.prototype.flush = function () {\n        this.storage.setItem(this.key, JSON.stringify(this.cache || []));\n    };\n    PersistentQueue.prototype.load = function () {\n        var data = this.storage.getItem(this.key);\n        if (data === null) {\n            return [];\n        }\n        try {\n            return JSON.parse(data);\n        }\n        catch (error) {\n            return [];\n        }\n    };\n    return PersistentQueue;\n}());\nexports.PersistentQueue = PersistentQueue;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PersistentQueue = exports.MonitoredQueue = exports.InMemoryQueue = exports.CapacityRestrictedQueue = void 0;\nvar tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./queue\"), exports);\nvar capacityRestrictedQueue_1 = require(\"./capacityRestrictedQueue\");\nObject.defineProperty(exports, \"CapacityRestrictedQueue\", { enumerable: true, get: function () { return capacityRestrictedQueue_1.CapacityRestrictedQueue; } });\nvar inMemoryQueue_1 = require(\"./inMemoryQueue\");\nObject.defineProperty(exports, \"InMemoryQueue\", { enumerable: true, get: function () { return inMemoryQueue_1.InMemoryQueue; } });\nvar monitoredQueue_1 = require(\"./monitoredQueue\");\nObject.defineProperty(exports, \"MonitoredQueue\", { enumerable: true, get: function () { return monitoredQueue_1.MonitoredQueue; } });\nvar persistentQueue_1 = require(\"./persistentQueue\");\nObject.defineProperty(exports, \"PersistentQueue\", { enumerable: true, get: function () { return persistentQueue_1.PersistentQueue; } });\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isCartPartialEvent = exports.isIdentifiedUserEvent = exports.eventTypes = exports.miscEventTypes = exports.userEventTypes = exports.identifiedUserEventTypes = exports.ecommerceEventTypes = exports.cartEventTypes = exports.tabEventTypes = exports.pageEventTypes = void 0;\nvar tslib_1 = require(\"tslib\");\n/*\n * Events\n */\nexports.pageEventTypes = [\n    'pageLoaded',\n    'pageOpened',\n];\nexports.tabEventTypes = [\n    'tabOpened',\n    'tabUrlChanged',\n    'tabVisibilityChanged',\n];\nexports.cartEventTypes = [\n    'cartModified',\n    'cartViewed',\n    'checkoutStarted',\n];\nexports.ecommerceEventTypes = tslib_1.__spreadArray(tslib_1.__spreadArray([], tslib_1.__read(exports.cartEventTypes), false), [\n    'orderPlaced',\n    'productViewed',\n], false);\nexports.identifiedUserEventTypes = [\n    'userSignedIn',\n    'userSignedOut',\n    'userSignedUp',\n];\nexports.userEventTypes = tslib_1.__spreadArray(tslib_1.__spreadArray([], tslib_1.__read(exports.identifiedUserEventTypes), false), [\n    'userProfileChanged',\n], false);\nexports.miscEventTypes = [\n    'nothingChanged',\n    'sessionAttributesChanged',\n    'goalCompleted',\n    'interestShown',\n    'postViewed',\n    'eventOccurred',\n    'linkOpened',\n];\nexports.eventTypes = tslib_1.__spreadArray(tslib_1.__spreadArray(tslib_1.__spreadArray(tslib_1.__spreadArray([], tslib_1.__read(exports.pageEventTypes), false), tslib_1.__read(exports.ecommerceEventTypes), false), tslib_1.__read(exports.userEventTypes), false), tslib_1.__read(exports.miscEventTypes), false);\n/*\n * Type guards\n */\nfunction isIdentifiedUserEvent(event) {\n    return exports.identifiedUserEventTypes.includes(event.type);\n}\nexports.isIdentifiedUserEvent = isIdentifiedUserEvent;\nfunction isCartPartialEvent(event) {\n    return exports.cartEventTypes.includes(event.type);\n}\nexports.isCartPartialEvent = isCartPartialEvent;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Tracker = void 0;\nvar tslib_1 = require(\"tslib\");\nvar logging_1 = require(\"./logging\");\nvar error_1 = require(\"./error\");\nvar trackingEvents_1 = require(\"./trackingEvents\");\nvar trackedEvents = {};\nvar Tracker = /** @class */ (function () {\n    function Tracker(_a) {\n        var _b;\n        var tab = _a.tab, tokenProvider = _a.tokenProvider, channel = _a.channel, logger = _a.logger, inactivityRetryPolicy = _a.inactivityRetryPolicy, options = tslib_1.__rest(_a, [\"tab\", \"tokenProvider\", \"channel\", \"logger\", \"inactivityRetryPolicy\"]);\n        this.listeners = [];\n        this.pending = [];\n        this.state = {\n            enabled: false,\n            initialized: false,\n            suspended: false,\n        };\n        this.inactivityTimer = {\n            since: 0,\n        };\n        this.tab = tab;\n        this.tokenProvider = tokenProvider;\n        this.inactivityRetryPolicy = inactivityRetryPolicy;\n        this.channel = channel;\n        this.logger = logger !== null && logger !== void 0 ? logger : new logging_1.NullLogger();\n        this.options = tslib_1.__assign(tslib_1.__assign({}, options), { eventMetadata: (_b = options.eventMetadata) !== null && _b !== void 0 ? _b : {} });\n        this.enable = this.enable.bind(this);\n        this.disable = this.disable.bind(this);\n        this.suspend = this.suspend.bind(this);\n        this.unsuspend = this.unsuspend.bind(this);\n        this.trackPageLoad = this.trackPageLoad.bind(this);\n        this.trackTabVisibilityChange = this.trackTabVisibilityChange.bind(this);\n        this.trackTabUrlChange = this.trackTabUrlChange.bind(this);\n        this.trackInactivity = this.trackInactivity.bind(this);\n    }\n    Tracker.prototype.addListener = function (listener) {\n        this.listeners.push(listener);\n    };\n    Tracker.prototype.removeListener = function (listener) {\n        var index = this.listeners.indexOf(listener);\n        while (index >= 0) {\n            this.listeners.splice(index, 1);\n            index = this.listeners.indexOf(listener);\n        }\n    };\n    Object.defineProperty(Tracker.prototype, \"flushed\", {\n        get: function () {\n            var suppress = function () {\n                // suppress errors\n            };\n            return Promise.all(this.pending).then(suppress, suppress);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Tracker.prototype.isEnabled = function () {\n        return this.state.enabled;\n    };\n    Tracker.prototype.isSuspended = function () {\n        return this.state.suspended;\n    };\n    Tracker.prototype.enable = function () {\n        if (this.state.enabled) {\n            return;\n        }\n        this.logger.info('Tracker enabled');\n        this.state.enabled = true;\n        if (this.state.suspended) {\n            return;\n        }\n        this.startInactivityTimer();\n        if (!this.state.initialized) {\n            this.state.initialized = true;\n            this.initialize();\n        }\n        this.tab.addListener('load', this.trackPageLoad);\n        this.tab.addListener('urlChange', this.trackTabUrlChange);\n        this.tab.addListener('visibilityChange', this.trackTabVisibilityChange);\n    };\n    Tracker.prototype.disable = function () {\n        if (!this.state.enabled) {\n            return;\n        }\n        this.logger.info('Tracker disabled');\n        this.state.enabled = false;\n        if (this.state.suspended) {\n            return;\n        }\n        this.tab.removeListener('load', this.trackPageLoad);\n        this.tab.removeListener('urlChange', this.trackTabUrlChange);\n        this.tab.removeListener('visibilityChange', this.trackTabVisibilityChange);\n        this.stopInactivityTimer();\n    };\n    Tracker.prototype.suspend = function () {\n        if (this.state.suspended) {\n            return;\n        }\n        this.logger.info('Tracker suspended');\n        if (this.state.enabled) {\n            this.disable();\n            this.state.enabled = true;\n        }\n        this.state.suspended = true;\n    };\n    Tracker.prototype.unsuspend = function () {\n        if (!this.state.suspended) {\n            return;\n        }\n        this.logger.info('Tracker unsuspended');\n        this.state.suspended = false;\n        if (this.state.enabled) {\n            this.state.enabled = false;\n            this.enable();\n        }\n    };\n    Tracker.prototype.initialize = function () {\n        if (trackedEvents[this.tab.id] === undefined) {\n            trackedEvents[this.tab.id] = {};\n        }\n        var initEvents = trackedEvents[this.tab.id];\n        if (this.tab.isNew && !initEvents.tabOpened) {\n            initEvents.tabOpened = true;\n            this.trackTabOpen({ tabId: this.tab.id });\n        }\n        if (!initEvents.pageOpened) {\n            initEvents.pageOpened = true;\n            this.trackPageOpen({\n                url: this.tab.url,\n                referrer: this.tab.referrer,\n            });\n        }\n    };\n    Tracker.prototype.stopInactivityTimer = function () {\n        if (this.inactivityTimer.id !== undefined) {\n            window.clearTimeout(this.inactivityTimer.id);\n            delete this.inactivityTimer.id;\n        }\n    };\n    Tracker.prototype.startInactivityTimer = function () {\n        var _this = this;\n        this.stopInactivityTimer();\n        this.inactivityTimer.since = Date.now();\n        var iteration = -1;\n        var startTimer = function () {\n            if (!_this.inactivityRetryPolicy.shouldRetry(iteration + 1, _this.inactivityTimer.since)) {\n                window.clearTimeout(_this.inactivityTimer.id);\n                return;\n            }\n            iteration += 1;\n            _this.inactivityTimer.id = window.setTimeout(function () {\n                _this.trackInactivity();\n                startTimer();\n            }, _this.inactivityRetryPolicy.getDelay(iteration));\n        };\n        startTimer();\n    };\n    Tracker.prototype.track = function (event, timestamp) {\n        if (timestamp === void 0) { timestamp = Date.now(); }\n        return this.publish(this.enrichEvent(event, timestamp), timestamp).then(function () { return event; });\n    };\n    Tracker.prototype.trackPageOpen = function (_a) {\n        var referrer = _a.referrer, payload = tslib_1.__rest(_a, [\"referrer\"]);\n        this.enqueue(tslib_1.__assign(tslib_1.__assign({ type: 'pageOpened' }, payload), (referrer.length > 0 ? { referrer: referrer } : {})));\n    };\n    Tracker.prototype.trackPageLoad = function (_a) {\n        var tab = _a.detail.tab;\n        this.enqueue({\n            type: 'pageLoaded',\n            url: tab.url,\n            title: tab.title,\n            lastModifiedTime: Date.parse(tab.document.lastModified),\n        });\n    };\n    Tracker.prototype.trackTabOpen = function (payload) {\n        this.enqueue(tslib_1.__assign({ type: 'tabOpened' }, payload));\n    };\n    Tracker.prototype.trackTabUrlChange = function (_a) {\n        var detail = _a.detail;\n        this.enqueue({\n            type: 'tabUrlChanged',\n            tabId: detail.tab.id,\n            url: detail.url,\n        });\n    };\n    Tracker.prototype.trackTabVisibilityChange = function (_a) {\n        var detail = _a.detail;\n        this.enqueue({\n            type: 'tabVisibilityChanged',\n            tabId: detail.tab.id,\n            visibility: detail.visible ? 'visible' : 'hidden',\n        });\n    };\n    Tracker.prototype.trackInactivity = function () {\n        this.enqueue({\n            type: 'nothingChanged',\n            sinceTime: this.inactivityTimer.since,\n        });\n    };\n    Tracker.prototype.enqueue = function (event, timestamp) {\n        if (timestamp === void 0) { timestamp = Date.now(); }\n        this.publish(event, timestamp).catch(function () {\n            // suppress error\n        });\n    };\n    Tracker.prototype.notifyEvent = function (event) {\n        this.listeners.map(function (listener) { return listener(event); });\n    };\n    Tracker.prototype.publish = function (event, timestamp) {\n        var _this = this;\n        if (event.type !== 'nothingChanged') {\n            this.stopInactivityTimer();\n        }\n        var metadata = this.options.eventMetadata;\n        var context = tslib_1.__assign({ tabId: this.tab.id, url: this.tab.url }, (Object.keys(metadata).length > 0 ? { metadata: metadata } : {}));\n        var eventInfo = {\n            event: event,\n            context: context,\n            timestamp: timestamp,\n            status: 'pending',\n        };\n        if (this.state.suspended) {\n            this.logger.warn(\"Tracker is suspended, ignoring event \\\"\".concat(event.type, \"\\\"\"));\n            this.notifyEvent(tslib_1.__assign(tslib_1.__assign({}, eventInfo), { status: 'ignored' }));\n            return Promise.reject(new Error('The tracker is suspended.'));\n        }\n        this.logger.info(\"Tracked event \\\"\".concat(event.type, \"\\\"\"));\n        this.notifyEvent(eventInfo);\n        return new Promise(function (resolve, reject) {\n            var promise = _this.channel.publish(_this.createBeacon(event, timestamp, context)).then(function () {\n                _this.logger.debug(\"Successfully published event \\\"\".concat(event.type, \"\\\"\"));\n                _this.notifyEvent(tslib_1.__assign(tslib_1.__assign({}, eventInfo), { status: 'confirmed' }));\n                resolve(event);\n            }, function (cause) {\n                _this.logger.error(\"Failed to publish event \\\"\".concat(event.type, \"\\\", reason: \").concat((0, error_1.formatCause)(cause)));\n                _this.notifyEvent(tslib_1.__assign(tslib_1.__assign({}, eventInfo), { status: 'failed' }));\n                reject(cause);\n            });\n            _this.pending.push(promise);\n            promise.finally(function () {\n                _this.pending.splice(_this.pending.indexOf(promise), 1);\n            });\n            if (_this.state.enabled && event.type !== 'nothingChanged') {\n                _this.startInactivityTimer();\n            }\n        });\n    };\n    Tracker.prototype.enrichEvent = function (event, timestamp) {\n        if ((0, trackingEvents_1.isCartPartialEvent)(event)) {\n            var _a = event.cart, _b = _a.lastUpdateTime, lastUpdateTime = _b === void 0 ? timestamp : _b, cart = tslib_1.__rest(_a, [\"lastUpdateTime\"]), payload = tslib_1.__rest(event, [\"cart\"]);\n            return tslib_1.__assign(tslib_1.__assign({}, payload), { cart: tslib_1.__assign(tslib_1.__assign({}, cart), { lastUpdateTime: lastUpdateTime }) });\n        }\n        return event;\n    };\n    Tracker.prototype.createBeacon = function (event, timestamp, context) {\n        var token = this.tokenProvider.getToken();\n        return tslib_1.__assign(tslib_1.__assign({ timestamp: timestamp }, (token !== null ? { token: token.toString() } : {})), { context: context, payload: this.enrichBeaconPayload(this.createBeaconPayload(event)) });\n    };\n    Tracker.prototype.createBeaconPayload = function (event) {\n        if (!(0, trackingEvents_1.isIdentifiedUserEvent)(event)) {\n            return event;\n        }\n        if (event.type === 'userSignedUp' && event.profile !== undefined) {\n            var userId_1 = event.userId, profile = event.profile, payload_1 = tslib_1.__rest(event, [\"userId\", \"profile\"]);\n            return tslib_1.__assign(tslib_1.__assign({}, payload_1), { externalUserId: userId_1, patch: {\n                    operations: [\n                        {\n                            type: 'set',\n                            path: '.',\n                            value: profile,\n                        },\n                    ],\n                } });\n        }\n        var userId = event.userId, payload = tslib_1.__rest(event, [\"userId\"]);\n        return tslib_1.__assign(tslib_1.__assign({}, payload), { externalUserId: userId });\n    };\n    Tracker.prototype.enrichBeaconPayload = function (event) {\n        switch (event.type) {\n            case 'linkOpened':\n                return tslib_1.__assign(tslib_1.__assign({}, event), { link: new URL(event.link, this.tab.url).toString() });\n            default:\n                return event;\n        }\n    };\n    return Tracker;\n}());\nexports.Tracker = Tracker;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.VERSION = exports.MAX_EXPRESSION_LENGTH = exports.BOOTSTRAP_ENDPOINT_URL = exports.EVALUATION_ENDPOINT_URL = exports.TRACKER_ENDPOINT_URL = void 0;\nexports.TRACKER_ENDPOINT_URL = 'wss://api.croct.io/client/web/connect';\nexports.EVALUATION_ENDPOINT_URL = 'https://api.croct.io/client/web/evaluate';\nexports.BOOTSTRAP_ENDPOINT_URL = 'https://api.croct.io/client/web/bootstrap';\nexports.MAX_EXPRESSION_LENGTH = 300;\nexports.VERSION = '0.9.1';\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getLocation = exports.getPosition = exports.getLength = void 0;\nvar tslib_1 = require(\"tslib\");\nfunction getLength(input) {\n    return tslib_1.__spreadArray([], tslib_1.__read(input), false).length;\n}\nexports.getLength = getLength;\nfunction getPosition(input, index) {\n    return getLocation(input, index, index).start;\n}\nexports.getPosition = getPosition;\nfunction getLocation(input, startIndex, endIndex) {\n    if (startIndex < 0) {\n        throw Error('The start index cannot be negative.');\n    }\n    if (endIndex < startIndex) {\n        throw new Error('The end index must greater than or equal to the start index.');\n    }\n    var start;\n    var end;\n    var chars = tslib_1.__spreadArray([], tslib_1.__read(input), false);\n    var line = 1;\n    var column = 0;\n    for (var offset = 0; offset < chars.length; offset++) {\n        var char = chars[offset];\n        if (offset === startIndex) {\n            start = {\n                index: offset,\n                line: line,\n                column: column,\n            };\n        }\n        if (offset === endIndex) {\n            end = {\n                index: offset,\n                line: line,\n                column: column,\n            };\n            break;\n        }\n        if (char === '\\n') {\n            line += 1;\n            column = 0;\n        }\n        else {\n            column += 1;\n        }\n    }\n    if (start === undefined) {\n        start = {\n            index: chars.length,\n            line: line,\n            column: column,\n        };\n    }\n    if (end === undefined) {\n        end = {\n            index: chars.length,\n            line: line,\n            column: column,\n        };\n    }\n    return {\n        start: start,\n        end: end,\n    };\n}\nexports.getLocation = getLocation;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Evaluator = exports.ExpressionError = exports.EvaluationError = exports.EvaluationErrorType = void 0;\nvar tslib_1 = require(\"tslib\");\nvar constants_1 = require(\"./constants\");\nvar error_1 = require(\"./error\");\nvar sourceLocation_1 = require(\"./sourceLocation\");\nvar EvaluationErrorType;\n(function (EvaluationErrorType) {\n    EvaluationErrorType[\"TIMEOUT\"] = \"https://croct.help/api/evaluation#timeout\";\n    EvaluationErrorType[\"UNEXPECTED_ERROR\"] = \"https://croct.help/api/evaluation#unexpected-error\";\n    EvaluationErrorType[\"INVALID_EXPRESSION\"] = \"https://croct.help/api/evaluation#invalid-expression\";\n    EvaluationErrorType[\"TOO_COMPLEX_EXPRESSION\"] = \"https://croct.help/api/evaluation#too-complex-expression\";\n    EvaluationErrorType[\"EVALUATION_FAILED\"] = \"https://croct.help/api/evaluation#evaluation-failed\";\n    EvaluationErrorType[\"UNALLOWED_RESULT\"] = \"https://croct.help/api/evaluation#unallowed-result\";\n    EvaluationErrorType[\"UNSERIALIZABLE_RESULT\"] = \"https://croct.help/api/evaluation#unserializable-result\";\n})(EvaluationErrorType = exports.EvaluationErrorType || (exports.EvaluationErrorType = {}));\nvar EvaluationError = /** @class */ (function (_super) {\n    tslib_1.__extends(EvaluationError, _super);\n    function EvaluationError(response) {\n        var _this = _super.call(this, response.title) || this;\n        _this.response = response;\n        Object.setPrototypeOf(_this, EvaluationError.prototype);\n        return _this;\n    }\n    return EvaluationError;\n}(Error));\nexports.EvaluationError = EvaluationError;\nvar ExpressionError = /** @class */ (function (_super) {\n    tslib_1.__extends(ExpressionError, _super);\n    function ExpressionError(response) {\n        var _this = _super.call(this, response) || this;\n        Object.setPrototypeOf(_this, ExpressionError.prototype);\n        return _this;\n    }\n    return ExpressionError;\n}(EvaluationError));\nexports.ExpressionError = ExpressionError;\nvar Evaluator = /** @class */ (function () {\n    function Evaluator(configuration) {\n        var _a;\n        this.configuration = tslib_1.__assign(tslib_1.__assign({}, configuration), { endpointUrl: (_a = configuration.endpointUrl) !== null && _a !== void 0 ? _a : constants_1.EVALUATION_ENDPOINT_URL });\n    }\n    Evaluator.prototype.evaluate = function (expression, options) {\n        if (options === void 0) { options = {}; }\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var length, response, endpoint;\n            var _this = this;\n            return tslib_1.__generator(this, function (_a) {\n                length = (0, sourceLocation_1.getLength)(expression);\n                if (length > Evaluator.MAX_EXPRESSION_LENGTH) {\n                    response = {\n                        title: 'The expression is too complex.',\n                        status: 422,\n                        type: EvaluationErrorType.TOO_COMPLEX_EXPRESSION,\n                        detail: \"The expression must be at most \".concat(Evaluator.MAX_EXPRESSION_LENGTH, \" characters long, \")\n                            + \"but it is \".concat(length, \" characters long.\"),\n                        errors: [{\n                                cause: 'The expression is longer than expected.',\n                                location: (0, sourceLocation_1.getLocation)(expression, 0, Math.max(length - 1, 0)),\n                            }],\n                    };\n                    return [2 /*return*/, Promise.reject(new ExpressionError(response))];\n                }\n                endpoint = new URL(this.configuration.endpointUrl);\n                endpoint.searchParams.append('expression', expression);\n                if (options.context !== undefined) {\n                    endpoint.searchParams.append('context', JSON.stringify(options.context));\n                }\n                return [2 /*return*/, new Promise(function (resolve, reject) {\n                        if (options.timeout !== undefined) {\n                            window.setTimeout(function () {\n                                var response = {\n                                    title: 'Maximum evaluation timeout reached before evaluation could complete.',\n                                    type: EvaluationErrorType.TIMEOUT,\n                                    detail: \"The evaluation took more than \".concat(options.timeout, \"ms to complete.\"),\n                                    status: 408, // Request Timeout\n                                };\n                                reject(new EvaluationError(response));\n                            }, options.timeout);\n                        }\n                        var promise = _this.fetch(endpoint.toString());\n                        promise.then(function (response) {\n                            if (response.ok) {\n                                response.json().then(resolve);\n                                return;\n                            }\n                            response.json().then(function (result) {\n                                var errorResponse = result;\n                                switch (errorResponse.type) {\n                                    case EvaluationErrorType.INVALID_EXPRESSION:\n                                    case EvaluationErrorType.EVALUATION_FAILED:\n                                    case EvaluationErrorType.TOO_COMPLEX_EXPRESSION:\n                                        reject(new ExpressionError(errorResponse));\n                                        break;\n                                    default:\n                                        reject(new EvaluationError(errorResponse));\n                                        break;\n                                }\n                            });\n                        }, function (error) {\n                            var errorResponse = {\n                                title: (0, error_1.formatMessage)(error),\n                                type: EvaluationErrorType.UNEXPECTED_ERROR,\n                                detail: 'Please try again or contact Croct support if the error persists.',\n                                status: 500, // Internal Server Error\n                            };\n                            reject(new EvaluationError(errorResponse));\n                        });\n                    })];\n            });\n        });\n    };\n    Evaluator.prototype.fetch = function (endpoint) {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var _a, tokenProvider, cidAssigner, appId, token, cid, headers;\n            return tslib_1.__generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _a = this.configuration, tokenProvider = _a.tokenProvider, cidAssigner = _a.cidAssigner, appId = _a.appId;\n                        token = tokenProvider.getToken();\n                        return [4 /*yield*/, cidAssigner.assignCid()];\n                    case 1:\n                        cid = _b.sent();\n                        headers = tslib_1.__assign({ 'X-App-Id': appId, 'X-Client-Id': cid }, (token !== null && { 'X-Token': token.toString() }));\n                        return [2 /*return*/, window.fetch(endpoint.toString(), {\n                                method: 'GET',\n                                headers: headers,\n                                credentials: 'include',\n                            })];\n                }\n            });\n        });\n    };\n    Evaluator.MAX_EXPRESSION_LENGTH = constants_1.MAX_EXPRESSION_LENGTH;\n    return Evaluator;\n}());\nexports.Evaluator = Evaluator;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.encodeJson = void 0;\nvar encodeJson = function encodeJson(input) {\n    return Promise.resolve(JSON.stringify(input));\n};\nexports.encodeJson = encodeJson;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CachedAssigner = void 0;\nvar tslib_1 = require(\"tslib\");\nvar logging_1 = require(\"../logging\");\nvar CachedAssigner = /** @class */ (function () {\n    function CachedAssigner(assigner, cache, logger) {\n        this.assigner = assigner;\n        this.cache = cache;\n        this.logger = logger !== null && logger !== void 0 ? logger : new logging_1.NullLogger();\n    }\n    CachedAssigner.prototype.assignCid = function () {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var cid, newCid;\n            return tslib_1.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        cid = this.cache.get();\n                        if (cid !== null) {\n                            this.logger.debug('Previous CID loaded from cache');\n                            return [2 /*return*/, cid];\n                        }\n                        return [4 /*yield*/, this.assigner.assignCid()];\n                    case 1:\n                        newCid = _a.sent();\n                        this.cache.put(newCid);\n                        this.logger.debug('New CID stored into cache');\n                        return [2 /*return*/, newCid];\n                }\n            });\n        });\n    };\n    return CachedAssigner;\n}());\nexports.CachedAssigner = CachedAssigner;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FixedAssigner = void 0;\nvar FixedAssigner = /** @class */ (function () {\n    function FixedAssigner(cid) {\n        this.cid = cid;\n    }\n    FixedAssigner.prototype.assignCid = function () {\n        return Promise.resolve(this.cid);\n    };\n    return FixedAssigner;\n}());\nexports.FixedAssigner = FixedAssigner;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RemoteAssigner = void 0;\nvar tslib_1 = require(\"tslib\");\nvar logging_1 = require(\"../logging\");\nvar error_1 = require(\"../error\");\nvar RemoteAssigner = /** @class */ (function () {\n    function RemoteAssigner(endpoint, logger) {\n        this.endpoint = endpoint;\n        this.logger = logger !== null && logger !== void 0 ? logger : new logging_1.NullLogger();\n    }\n    RemoteAssigner.prototype.assignCid = function () {\n        var _this = this;\n        if (this.pending === undefined) {\n            this.pending = this.fetchCid().finally(function () {\n                _this.pending = undefined;\n            });\n        }\n        return this.pending;\n    };\n    RemoteAssigner.prototype.fetchCid = function () {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var options, response, error;\n            return tslib_1.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        options = {\n                            method: 'GET',\n                            credentials: 'include',\n                        };\n                        return [4 /*yield*/, window.fetch(this.endpoint, options)];\n                    case 1:\n                        response = _a.sent();\n                        if (!response.ok) {\n                            error = new Error(\"Failed to assign CID: \".concat((0, error_1.formatCause)(response.statusText)));\n                            this.logger.error(error.message);\n                            throw error;\n                        }\n                        this.logger.debug('New CID successfully assigned');\n                        return [2 /*return*/, response.text()];\n                }\n            });\n        });\n    };\n    return RemoteAssigner;\n}());\nexports.RemoteAssigner = RemoteAssigner;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RemoteAssigner = exports.FixedAssigner = exports.CachedAssigner = void 0;\nvar tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./assigner\"), exports);\nvar cachedAssigner_1 = require(\"./cachedAssigner\");\nObject.defineProperty(exports, \"CachedAssigner\", { enumerable: true, get: function () { return cachedAssigner_1.CachedAssigner; } });\nvar fixedAssigner_1 = require(\"./fixedAssigner\");\nObject.defineProperty(exports, \"FixedAssigner\", { enumerable: true, get: function () { return fixedAssigner_1.FixedAssigner; } });\nvar remoteAssigner_1 = require(\"./remoteAssigner\");\nObject.defineProperty(exports, \"RemoteAssigner\", { enumerable: true, get: function () { return remoteAssigner_1.RemoteAssigner; } });\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FallbackCache = void 0;\nvar tslib_1 = require(\"tslib\");\nvar FallbackCache = /** @class */ (function () {\n    function FallbackCache() {\n        var caches = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            caches[_i] = arguments[_i];\n        }\n        this.caches = caches;\n    }\n    FallbackCache.prototype.get = function () {\n        var e_1, _a;\n        try {\n            for (var _b = tslib_1.__values(this.caches), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var cache = _c.value;\n                var value = cache.get();\n                if (value !== null) {\n                    return value;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return null;\n    };\n    FallbackCache.prototype.put = function (value) {\n        this.caches.forEach(function (cache) { return cache.put(value); });\n    };\n    FallbackCache.prototype.clear = function () {\n        this.caches.forEach(function (cache) { return cache.clear(); });\n    };\n    return FallbackCache;\n}());\nexports.FallbackCache = FallbackCache;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InMemoryCache = void 0;\nvar InMemoryCache = /** @class */ (function () {\n    function InMemoryCache(cache) {\n        this.cache = cache;\n    }\n    InMemoryCache.prototype.get = function () {\n        var _a;\n        return (_a = this.cache) !== null && _a !== void 0 ? _a : null;\n    };\n    InMemoryCache.prototype.put = function (value) {\n        this.cache = value;\n    };\n    InMemoryCache.prototype.clear = function () {\n        delete this.cache;\n    };\n    return InMemoryCache;\n}());\nexports.InMemoryCache = InMemoryCache;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LocalStorageCache = void 0;\nvar LocalStorageCache = /** @class */ (function () {\n    function LocalStorageCache(storage, key) {\n        this.listeners = [];\n        this.storage = storage;\n        this.key = key;\n        this.value = storage.getItem(key);\n    }\n    LocalStorageCache.autoSync = function (cache) {\n        var listener = cache.sync.bind(cache);\n        window.addEventListener('storage', listener);\n        return function () { return window.removeEventListener('storage', listener); };\n    };\n    LocalStorageCache.prototype.get = function () {\n        return this.value;\n    };\n    LocalStorageCache.prototype.put = function (value) {\n        this.storage.setItem(this.key, value);\n        if (this.value !== value) {\n            this.value = value;\n            this.notifyChange(value);\n        }\n    };\n    LocalStorageCache.prototype.clear = function () {\n        this.storage.removeItem(this.key);\n        if (this.value !== null) {\n            this.value = null;\n            this.notifyChange(null);\n        }\n    };\n    LocalStorageCache.prototype.addListener = function (listener) {\n        if (!this.listeners.includes(listener)) {\n            this.listeners.push(listener);\n        }\n    };\n    LocalStorageCache.prototype.removeListener = function (listener) {\n        var index = this.listeners.indexOf(listener);\n        if (index > -1) {\n            this.listeners.splice(index, 1);\n        }\n    };\n    LocalStorageCache.prototype.notifyChange = function (value) {\n        this.listeners.forEach(function (listener) { return listener(value); });\n    };\n    LocalStorageCache.prototype.sync = function (event) {\n        if (event.storageArea !== this.storage || (event.key !== null && event.key !== this.key)) {\n            // Ignore unrelated changes\n            return;\n        }\n        /*\n         * Retrieving the value from the store rather than the event ensures\n         * the cache will be in sync with the latest value set.\n         * In case of cascading changes, it prevents notifying listeners\n         * about intermediate states already outdated at this point.\n         */\n        var value = this.storage.getItem(this.key);\n        if (this.value !== value) {\n            this.value = value;\n            this.notifyChange(value);\n        }\n    };\n    return LocalStorageCache;\n}());\nexports.LocalStorageCache = LocalStorageCache;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LocalStorageCache = exports.InMemoryCache = exports.FallbackCache = void 0;\nvar tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./cache\"), exports);\nvar fallbackCache_1 = require(\"./fallbackCache\");\nObject.defineProperty(exports, \"FallbackCache\", { enumerable: true, get: function () { return fallbackCache_1.FallbackCache; } });\nvar inMemoryCache_1 = require(\"./inMemoryCache\");\nObject.defineProperty(exports, \"InMemoryCache\", { enumerable: true, get: function () { return inMemoryCache_1.InMemoryCache; } });\nvar localStorageCache_1 = require(\"./localStorageCache\");\nObject.defineProperty(exports, \"LocalStorageCache\", { enumerable: true, get: function () { return localStorageCache_1.LocalStorageCache; } });\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GuaranteedChannel = exports.TimeStamper = void 0;\nvar tslib_1 = require(\"tslib\");\nvar logging_1 = require(\"../logging\");\nvar TimeStamper = /** @class */ (function () {\n    function TimeStamper() {\n    }\n    TimeStamper.prototype.generate = function () {\n        return String(Date.now());\n    };\n    return TimeStamper;\n}());\nexports.TimeStamper = TimeStamper;\nvar GuaranteedChannel = /** @class */ (function () {\n    function GuaranteedChannel(_a) {\n        var _b;\n        var channel = _a.channel, logger = _a.logger, stamper = _a.stamper, options = tslib_1.__rest(_a, [\"channel\", \"logger\", \"stamper\"]);\n        this.closed = false;\n        this.channel = channel;\n        this.logger = logger !== null && logger !== void 0 ? logger : new logging_1.NullLogger();\n        this.stamper = stamper;\n        this.options = tslib_1.__assign(tslib_1.__assign({}, options), { ackTimeout: (_b = options.ackTimeout) !== null && _b !== void 0 ? _b : 5000 });\n    }\n    GuaranteedChannel.prototype.publish = function (message) {\n        var _this = this;\n        if (this.closed) {\n            return Promise.reject(new Error('Channel is closed.'));\n        }\n        return new Promise(function (resolve, reject) {\n            var id = _this.stamper.generate(message);\n            var timeoutTimer;\n            var closeWatcher;\n            var confirmed = false;\n            var start = Date.now();\n            var acknowledge = function (response) {\n                if (response === id) {\n                    confirmed = true;\n                    var elapsed = Date.now() - start;\n                    window.clearTimeout(timeoutTimer);\n                    window.clearInterval(closeWatcher);\n                    _this.logger.debug(\"Delivery confirmed #\".concat(id, \", elapsed \").concat(elapsed, \"ms.\"));\n                    _this.channel.unsubscribe(acknowledge);\n                    resolve();\n                }\n            };\n            _this.channel.subscribe(acknowledge);\n            var abort = function (error) {\n                window.clearTimeout(timeoutTimer);\n                window.clearInterval(closeWatcher);\n                _this.logger.error(\"Failed to send message #\".concat(id));\n                _this.channel.unsubscribe(acknowledge);\n                reject(error);\n            };\n            var wait = function () {\n                if (confirmed) {\n                    return;\n                }\n                closeWatcher = window.setInterval(function () {\n                    if (_this.closed) {\n                        // Cancel delay immediately when the channel is closed\n                        abort(new Error('Connection deliberately closed.'));\n                    }\n                }, 0);\n                _this.logger.debug(\"Waiting confirmation #\".concat(id, \"...\"));\n                timeoutTimer = window.setTimeout(function () {\n                    abort(new Error('Maximum confirmation time reached.'));\n                }, _this.options.ackTimeout);\n            };\n            _this.logger.debug(\"Sending message #\".concat(id, \"...\"));\n            _this.channel.publish({ id: id, message: message }).then(wait, abort);\n        });\n    };\n    GuaranteedChannel.prototype.close = function () {\n        this.closed = true;\n        return this.channel.close();\n    };\n    return GuaranteedChannel;\n}());\nexports.GuaranteedChannel = GuaranteedChannel;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BeaconSocketChannel = void 0;\nvar tslib_1 = require(\"tslib\");\nvar logging_1 = require(\"../logging\");\nvar BeaconSocketChannel = /** @class */ (function () {\n    function BeaconSocketChannel(configuration) {\n        var _a, _b;\n        this.listeners = [];\n        this.connectionIndex = 0;\n        this.socketFactory = configuration.channelFactory;\n        this.logger = (_a = configuration.logger) !== null && _a !== void 0 ? _a : new logging_1.NullLogger();\n        this.loggerFactory = (_b = configuration.loggerFactory) !== null && _b !== void 0 ? _b : (function () { return new logging_1.NullLogger(); });\n        this.cidAssigner = configuration.cidAssigner;\n        this.cidParameter = configuration.cidParameter;\n        this.trackerEndpointUrl = configuration.trackerEndpointUrl;\n        this.tokenParameter = configuration.tokenParameter;\n        this.notify = this.notify.bind(this);\n    }\n    BeaconSocketChannel.prototype.publish = function (_a) {\n        var receiptId = _a.id, message = _a.message;\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var _b, token, timestamp, context, payload, _c;\n            return tslib_1.__generator(this, function (_d) {\n                switch (_d.label) {\n                    case 0:\n                        _b = JSON.parse(message), token = _b.token, timestamp = _b.timestamp, context = _b.context, payload = _b.payload;\n                        if (!(this.token !== token || this.socketChannel === undefined)) return [3 /*break*/, 4];\n                        if (!(this.socketChannel !== undefined)) return [3 /*break*/, 2];\n                        this.logger.info('Connection no longer valid for current message.');\n                        this.socketChannel.unsubscribe(this.notify);\n                        return [4 /*yield*/, this.socketChannel.close()];\n                    case 1:\n                        _d.sent();\n                        _d.label = 2;\n                    case 2:\n                        this.token = token;\n                        _c = this;\n                        return [4 /*yield*/, this.createSocketChannel(token)];\n                    case 3:\n                        _c.socketChannel = _d.sent();\n                        _d.label = 4;\n                    case 4: return [2 /*return*/, this.socketChannel.publish(JSON.stringify({\n                            receiptId: receiptId,\n                            originalTime: timestamp,\n                            departureTime: Date.now(),\n                            context: context,\n                            payload: payload,\n                        }))];\n                }\n            });\n        });\n    };\n    BeaconSocketChannel.prototype.createSocketChannel = function (token) {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var endpoint, _a, _b, _c, channel;\n            return tslib_1.__generator(this, function (_d) {\n                switch (_d.label) {\n                    case 0:\n                        endpoint = new URL(this.trackerEndpointUrl);\n                        _b = (_a = endpoint.searchParams).append;\n                        _c = [this.cidParameter];\n                        return [4 /*yield*/, this.cidAssigner.assignCid()];\n                    case 1:\n                        _b.apply(_a, _c.concat([_d.sent()]));\n                        if (token !== undefined) {\n                            endpoint.searchParams.append(this.tokenParameter, token);\n                        }\n                        channel = this.socketFactory(endpoint.toString(), this.loggerFactory(\"WebSocket#\".concat(this.connectionIndex)));\n                        this.connectionIndex += 1;\n                        channel.subscribe(this.notify);\n                        return [2 /*return*/, channel];\n                }\n            });\n        });\n    };\n    BeaconSocketChannel.prototype.subscribe = function (listener) {\n        if (!this.listeners.includes(listener)) {\n            this.listeners.push(listener);\n        }\n    };\n    BeaconSocketChannel.prototype.unsubscribe = function (listener) {\n        var index = this.listeners.indexOf(listener);\n        if (index >= 0) {\n            this.listeners.splice(index, 1);\n        }\n    };\n    BeaconSocketChannel.prototype.notify = function (message) {\n        var _this = this;\n        var confirmation;\n        try {\n            confirmation = JSON.parse(message);\n        }\n        catch (_a) {\n            this.logger.error('Invalid JSON message received.');\n            return;\n        }\n        var _b = confirmation.violations, violations = _b === void 0 ? [] : _b, receiptId = confirmation.receiptId;\n        violations.forEach(function (violation) { return _this.logger.error(violation.message); });\n        if (receiptId !== null) {\n            this.listeners.forEach(function (dispatch) { return dispatch(receiptId); });\n        }\n    };\n    BeaconSocketChannel.prototype.close = function () {\n        if (this.socketChannel === undefined) {\n            return Promise.resolve();\n        }\n        return this.socketChannel.close();\n    };\n    return BeaconSocketChannel;\n}());\nexports.BeaconSocketChannel = BeaconSocketChannel;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EncodedChannel = void 0;\nvar EncodedChannel = /** @class */ (function () {\n    function EncodedChannel(channel, encoder) {\n        this.channel = channel;\n        this.encode = encoder;\n    }\n    EncodedChannel.prototype.publish = function (message) {\n        var _this = this;\n        return this.encode(message).then((function (result) { return _this.channel.publish(result); }));\n    };\n    EncodedChannel.prototype.close = function () {\n        return this.channel.close();\n    };\n    return EncodedChannel;\n}());\nexports.EncodedChannel = EncodedChannel;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.QueuedChannel = void 0;\nvar tslib_1 = require(\"tslib\");\nvar logging_1 = require(\"../logging\");\nvar QueuedChannel = /** @class */ (function () {\n    function QueuedChannel(channel, queue, logger) {\n        this.closed = false;\n        this.channel = channel;\n        this.queue = queue;\n        this.logger = logger !== null && logger !== void 0 ? logger : new logging_1.NullLogger();\n    }\n    QueuedChannel.prototype.flush = function () {\n        if (this.pending === undefined) {\n            return this.requeue();\n        }\n        return this.pending.catch(this.requeue.bind(this));\n    };\n    QueuedChannel.prototype.publish = function (message) {\n        var _this = this;\n        if (this.closed) {\n            return Promise.reject(new Error('Channel is closed.'));\n        }\n        if (this.queue.length() >= this.queue.getCapacity()) {\n            this.logger.warn('The queue is full, message rejected.');\n            return Promise.reject(new Error('The queue is full.'));\n        }\n        if (this.pending === undefined) {\n            this.pending = this.queue.isEmpty()\n                ? Promise.resolve()\n                : Promise.reject(new Error('The queue must be flushed.'));\n        }\n        this.enqueue(message);\n        this.pending = this.pending.then(function () { return _this.channel.publish(message).then(_this.dequeue.bind(_this)); });\n        return this.pending;\n    };\n    QueuedChannel.prototype.enqueue = function (message) {\n        this.logger.debug('Enqueueing message...');\n        this.logger.debug(\"Queue length: \".concat(this.queue.length() + 1));\n        this.queue.push(message);\n    };\n    QueuedChannel.prototype.dequeue = function () {\n        this.logger.debug('Dequeuing message...');\n        this.logger.debug(\"Queue length: \".concat(Math.max(0, this.queue.length() - 1)));\n        this.queue.shift();\n    };\n    QueuedChannel.prototype.requeue = function () {\n        var e_1, _a;\n        var _this = this;\n        if (this.closed) {\n            return Promise.reject(new Error('Channel is closed.'));\n        }\n        this.pending = Promise.resolve();\n        if (this.queue.isEmpty()) {\n            return this.pending;\n        }\n        var length = this.queue.length();\n        this.logger.debug('Requeuing messages...');\n        this.logger.debug(\"Queue length: \".concat(length));\n        var _loop_1 = function (message) {\n            this_1.pending = this_1.pending.then(function () { return _this.channel.publish(message).then(_this.dequeue.bind(_this)); });\n        };\n        var this_1 = this;\n        try {\n            for (var _b = tslib_1.__values(this.queue.all()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var message = _c.value;\n                _loop_1(message);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        return this.pending;\n    };\n    QueuedChannel.prototype.close = function () {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var _a;\n            return tslib_1.__generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        this.closed = true;\n                        return [4 /*yield*/, this.channel.close()];\n                    case 1:\n                        _b.sent();\n                        if (!(this.pending !== undefined)) return [3 /*break*/, 5];\n                        _b.label = 2;\n                    case 2:\n                        _b.trys.push([2, 4, , 5]);\n                        return [4 /*yield*/, this.pending];\n                    case 3:\n                        _b.sent();\n                        return [3 /*break*/, 5];\n                    case 4:\n                        _a = _b.sent();\n                        return [3 /*break*/, 5];\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return QueuedChannel;\n}());\nexports.QueuedChannel = QueuedChannel;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RetryChannel = void 0;\nvar tslib_1 = require(\"tslib\");\nvar logging_1 = require(\"../logging\");\nvar RetryChannel = /** @class */ (function () {\n    function RetryChannel(_a) {\n        var channel = _a.channel, retryPolicy = _a.retryPolicy, logger = _a.logger;\n        this.closed = false;\n        this.channel = channel;\n        this.retryPolicy = retryPolicy;\n        this.logger = logger !== null && logger !== void 0 ? logger : new logging_1.NullLogger();\n    }\n    RetryChannel.prototype.publish = function (message) {\n        var _this = this;\n        if (this.closed) {\n            return Promise.reject(new Error('The channel is closed.'));\n        }\n        return this.channel.publish(message).catch(function (error) { return _this.retry(message, error); });\n    };\n    RetryChannel.prototype.retry = function (message, error) {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var attempt, _loop_1, this_1, state_1;\n            var _this = this;\n            return tslib_1.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        attempt = 0;\n                        _loop_1 = function () {\n                            var delay, _b, _c;\n                            return tslib_1.__generator(this, function (_d) {\n                                switch (_d.label) {\n                                    case 0:\n                                        if (this_1.closed) {\n                                            throw new Error('Connection deliberately closed.');\n                                        }\n                                        delay = this_1.retryPolicy.getDelay(attempt);\n                                        this_1.logger.debug(\"Retry attempt \".concat(attempt + 1));\n                                        if (!(delay > 0)) return [3 /*break*/, 2];\n                                        this_1.logger.debug(\"Retry attempt delayed in \".concat(delay, \"ms\"));\n                                        return [4 /*yield*/, new Promise(function (resolve, reject) {\n                                                var closeWatcher = window.setInterval(function () {\n                                                    if (_this.closed) {\n                                                        // Cancel delay immediately when the channel is closed\n                                                        window.clearInterval(closeWatcher);\n                                                        reject(new Error('Connection deliberately closed.'));\n                                                    }\n                                                }, 0);\n                                                window.setTimeout(function () {\n                                                    window.clearInterval(closeWatcher);\n                                                    resolve();\n                                                }, delay);\n                                            })];\n                                    case 1:\n                                        _d.sent();\n                                        _d.label = 2;\n                                    case 2:\n                                        _d.trys.push([2, 4, , 5]);\n                                        _b = {};\n                                        return [4 /*yield*/, this_1.channel.publish(message)];\n                                    case 3: return [2 /*return*/, (_b.value = _d.sent(), _b)];\n                                    case 4:\n                                        _c = _d.sent();\n                                        attempt += 1;\n                                        return [3 /*break*/, 5];\n                                    case 5: return [2 /*return*/];\n                                }\n                            });\n                        };\n                        this_1 = this;\n                        _a.label = 1;\n                    case 1:\n                        if (!this.retryPolicy.shouldRetry(attempt, message, error)) return [3 /*break*/, 3];\n                        return [5 /*yield**/, _loop_1()];\n                    case 2:\n                        state_1 = _a.sent();\n                        if (typeof state_1 === \"object\")\n                            return [2 /*return*/, state_1.value];\n                        return [3 /*break*/, 1];\n                    case 3: throw new Error('Maximum retry attempts reached.');\n                }\n            });\n        });\n    };\n    RetryChannel.prototype.close = function () {\n        this.closed = true;\n        return this.channel.close();\n    };\n    return RetryChannel;\n}());\nexports.RetryChannel = RetryChannel;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SandboxChannel = void 0;\nvar SandboxChannel = /** @class */ (function () {\n    function SandboxChannel() {\n        this.listeners = [];\n        this.messages = [];\n        this.closed = false;\n    }\n    SandboxChannel.prototype.publish = function (message) {\n        this.messages.push(message);\n        return Promise.resolve();\n    };\n    SandboxChannel.prototype.notify = function (message) {\n        this.listeners.forEach(function (dispatch) { return dispatch(message); });\n    };\n    SandboxChannel.prototype.subscribe = function (listener) {\n        if (!this.listeners.includes(listener)) {\n            this.listeners.push(listener);\n        }\n    };\n    SandboxChannel.prototype.unsubscribe = function (listener) {\n        var index = this.listeners.indexOf(listener);\n        if (index >= 0) {\n            this.listeners.splice(index, 1);\n        }\n    };\n    SandboxChannel.prototype.close = function () {\n        this.closed = true;\n        return Promise.resolve();\n    };\n    SandboxChannel.prototype.isClosed = function () {\n        return this.closed;\n    };\n    return SandboxChannel;\n}());\nexports.SandboxChannel = SandboxChannel;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SocketChannel = void 0;\nvar tslib_1 = require(\"tslib\");\nvar logging_1 = require(\"../logging\");\nvar error_1 = require(\"../error\");\nvar SocketChannel = /** @class */ (function () {\n    function SocketChannel(_a) {\n        var _b, _c, _d;\n        var url = _a.url, logger = _a.logger, options = tslib_1.__rest(_a, [\"url\", \"logger\"]);\n        this.listeners = [];\n        this.closed = false;\n        this.url = url;\n        this.logger = logger !== null && logger !== void 0 ? logger : new logging_1.NullLogger();\n        this.options = tslib_1.__assign(tslib_1.__assign({}, options), { closeTimeout: (_b = options.closeTimeout) !== null && _b !== void 0 ? _b : 5000, connectionTimeout: (_c = options.connectionTimeout) !== null && _c !== void 0 ? _c : 10000, protocols: (_d = options.protocols) !== null && _d !== void 0 ? _d : [] });\n    }\n    Object.defineProperty(SocketChannel.prototype, \"connected\", {\n        get: function () {\n            if (this.connection === undefined) {\n                return Promise.resolve(false);\n            }\n            return this.connection.then(function () { return true; }, function () { return false; });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    SocketChannel.prototype.publish = function (message) {\n        var _this = this;\n        return this.connect().then(function (socket) {\n            socket.send(message);\n            _this.logger.debug('Message sent.');\n        });\n    };\n    SocketChannel.prototype.subscribe = function (listener) {\n        if (!this.listeners.includes(listener)) {\n            this.listeners.push(listener);\n        }\n    };\n    SocketChannel.prototype.unsubscribe = function (listener) {\n        var index = this.listeners.indexOf(listener);\n        if (index >= 0) {\n            this.listeners.splice(index, 1);\n        }\n    };\n    SocketChannel.prototype.notify = function (message) {\n        this.listeners.forEach(function (dispatch) { return dispatch(message); });\n    };\n    SocketChannel.prototype.connect = function () {\n        var _this = this;\n        if (this.closed) {\n            return Promise.reject(new Error('Channel has been closed.'));\n        }\n        if (this.connection !== undefined) {\n            return this.connection.then(function (connection) {\n                var state = connection.readyState;\n                if (state === WebSocket.OPEN) {\n                    return connection;\n                }\n                throw new Error('Connection lost.');\n            }).catch(function () {\n                // Reconnect\n                delete _this.connection;\n                return _this.connect();\n            });\n        }\n        this.connection = new Promise(function (resolve, reject) {\n            _this.logger.debug('Connecting...');\n            var connection = new window.WebSocket(_this.url, _this.options.protocols);\n            if (_this.options.binaryType) {\n                connection.binaryType = _this.options.binaryType;\n            }\n            var abortListener = function () {\n                var reason = 'Maximum connection timeout reached.';\n                _this.logger.error(reason);\n                reject(new Error(reason));\n                connection.close(1000, reason);\n            };\n            var abortTimer = window.setTimeout(abortListener, _this.options.connectionTimeout);\n            var openListener = function () {\n                window.clearTimeout(abortTimer);\n                _this.logger.info('Connection established.');\n                connection.removeEventListener('open', openListener);\n                resolve(connection);\n            };\n            var errorListener = function () {\n                if (!_this.closed) {\n                    _this.logger.error('Connection error.');\n                }\n            };\n            var messageListener = function (event) {\n                _this.logger.debug('Message received.');\n                _this.notify(event.data);\n            };\n            var closeListener = function (event) {\n                window.clearTimeout(abortTimer);\n                var reason = \"\".concat((0, error_1.formatCause)(event.reason || 'unknown'), \" (code \").concat(event.code, \")\");\n                var message = \"Connection has been closed, reason: \".concat(reason);\n                if (!_this.closed) {\n                    _this.logger.info(message);\n                }\n                connection.removeEventListener('open', openListener);\n                connection.removeEventListener('error', errorListener);\n                connection.removeEventListener('close', closeListener);\n                connection.removeEventListener('message', messageListener);\n                reject(new Error(message));\n            };\n            connection.addEventListener('open', openListener, { once: true });\n            connection.addEventListener('close', closeListener, { once: true });\n            connection.addEventListener('error', errorListener);\n            connection.addEventListener('message', messageListener);\n        });\n        return this.connection;\n    };\n    SocketChannel.prototype.close = function () {\n        var _this = this;\n        this.logger.debug('Closing connection...');\n        return new Promise(function (resolve, reject) {\n            _this.closed = true;\n            if (_this.connection === undefined) {\n                _this.logger.debug('Connection is not open.');\n                resolve();\n                return;\n            }\n            _this.connection.then(function (connection) {\n                var abortTimer;\n                var abort = function () {\n                    _this.logger.warn('Connection could not be closed within the timeout period.');\n                    reject(new Error('Maximum close timeout reached.'));\n                };\n                var close = function () {\n                    window.clearTimeout(abortTimer);\n                    _this.logger.info('Connection gracefully closed.');\n                    resolve();\n                };\n                connection.addEventListener('close', close, { once: true });\n                connection.close(1000, 'Deliberate disconnection.');\n                abortTimer = window.setTimeout(abort, _this.options.closeTimeout);\n            }, function () {\n                _this.logger.info('Connection closed.');\n                resolve();\n            });\n        });\n    };\n    return SocketChannel;\n}());\nexports.SocketChannel = SocketChannel;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SocketChannel = exports.SandboxChannel = exports.RetryChannel = exports.QueuedChannel = exports.GuaranteedChannel = exports.EncodedChannel = exports.BeaconSocketChannel = void 0;\nvar tslib_1 = require(\"tslib\");\ntslib_1.__exportStar(require(\"./channel\"), exports);\nvar beaconSocketChannel_1 = require(\"./beaconSocketChannel\");\nObject.defineProperty(exports, \"BeaconSocketChannel\", { enumerable: true, get: function () { return beaconSocketChannel_1.BeaconSocketChannel; } });\nvar encodedChannel_1 = require(\"./encodedChannel\");\nObject.defineProperty(exports, \"EncodedChannel\", { enumerable: true, get: function () { return encodedChannel_1.EncodedChannel; } });\nvar guaranteedChannel_1 = require(\"./guaranteedChannel\");\nObject.defineProperty(exports, \"GuaranteedChannel\", { enumerable: true, get: function () { return guaranteedChannel_1.GuaranteedChannel; } });\nvar queuedChannel_1 = require(\"./queuedChannel\");\nObject.defineProperty(exports, \"QueuedChannel\", { enumerable: true, get: function () { return queuedChannel_1.QueuedChannel; } });\nvar retryChannel_1 = require(\"./retryChannel\");\nObject.defineProperty(exports, \"RetryChannel\", { enumerable: true, get: function () { return retryChannel_1.RetryChannel; } });\nvar sandboxChannel_1 = require(\"./sandboxChannel\");\nObject.defineProperty(exports, \"SandboxChannel\", { enumerable: true, get: function () { return sandboxChannel_1.SandboxChannel; } });\nvar socketChannel_1 = require(\"./socketChannel\");\nObject.defineProperty(exports, \"SocketChannel\", { enumerable: true, get: function () { return socketChannel_1.SocketChannel; } });\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Container = void 0;\nvar tslib_1 = require(\"tslib\");\nvar logging_1 = require(\"./logging\");\nvar context_1 = require(\"./context\");\nvar namespacedStorage_1 = require(\"./namespacedStorage\");\nvar retry_1 = require(\"./retry\");\nvar queue_1 = require(\"./queue\");\nvar tracker_1 = require(\"./tracker\");\nvar evaluator_1 = require(\"./evaluator\");\nvar transformer_1 = require(\"./transformer\");\nvar cid_1 = require(\"./cid\");\nvar eventManager_1 = require(\"./eventManager\");\nvar cache_1 = require(\"./cache\");\nvar guaranteedChannel_1 = require(\"./channel/guaranteedChannel\");\nvar channel_1 = require(\"./channel\");\nvar Container = /** @class */ (function () {\n    function Container(configuration) {\n        this.eventManager = new eventManager_1.SynchronousEventManager();\n        this.configuration = configuration;\n    }\n    Container.prototype.getConfiguration = function () {\n        return this.configuration;\n    };\n    Container.prototype.getEvaluator = function () {\n        if (this.evaluator === undefined) {\n            this.evaluator = this.createEvaluator();\n        }\n        return this.evaluator;\n    };\n    Container.prototype.createEvaluator = function () {\n        return new evaluator_1.Evaluator({\n            appId: this.configuration.appId,\n            endpointUrl: this.configuration.evaluationEndpointUrl,\n            tokenProvider: this.getTokenProvider(),\n            cidAssigner: this.getCidAssigner(),\n        });\n    };\n    Container.prototype.getTracker = function () {\n        if (this.tracker === undefined) {\n            this.tracker = this.createTracker();\n        }\n        return this.tracker;\n    };\n    Container.prototype.createTracker = function () {\n        var context = this.getContext();\n        var tracker = new tracker_1.Tracker({\n            tab: context.getTab(),\n            tokenProvider: this.getTokenProvider(),\n            inactivityRetryPolicy: new retry_1.ArbitraryPolicy([30000, 30000, 120000, 120000, 300000, 300000, 900000]),\n            logger: this.getLogger('Tracker'),\n            channel: this.getBeaconChannel(),\n            eventMetadata: this.configuration.eventMetadata || {},\n        });\n        var queue = this.getBeaconQueue();\n        queue.addCallback('halfEmpty', tracker.unsuspend);\n        queue.addCallback('full', tracker.suspend);\n        return tracker;\n    };\n    Container.prototype.getTokenProvider = function () {\n        if (this.tokenProvider === undefined) {\n            var context = this.getContext();\n            this.tokenProvider = { getToken: context.getToken.bind(context) };\n        }\n        return this.tokenProvider;\n    };\n    Container.prototype.getContext = function () {\n        if (this.context === undefined) {\n            this.context = this.createContext();\n        }\n        return this.context;\n    };\n    Container.prototype.createContext = function () {\n        var tokenKey = this.resolveStorageNamespace('token');\n        var tabKey = this.resolveStorageNamespace('tab');\n        var browserStorage = this.getLocalStorage();\n        var browserCache = new cache_1.LocalStorageCache(browserStorage, tokenKey);\n        var tabStorage = this.getSessionStorage();\n        this.removeTokenSyncListener = cache_1.LocalStorageCache.autoSync(browserCache);\n        return context_1.Context.load({\n            tokenScope: this.configuration.tokenScope,\n            eventDispatcher: this.getEventManager(),\n            urlSanitizer: this.configuration.urlSanitizer,\n            cache: {\n                tabId: new cache_1.LocalStorageCache(tabStorage, tabKey),\n                tabToken: new cache_1.LocalStorageCache(tabStorage, tokenKey),\n                browserToken: browserCache,\n            },\n        });\n    };\n    Container.prototype.getBeaconChannel = function () {\n        if (this.beaconChannel === undefined) {\n            this.beaconChannel = this.createBeaconChannel();\n        }\n        return this.beaconChannel;\n    };\n    Container.prototype.createBeaconChannel = function () {\n        if (this.configuration.test) {\n            return new channel_1.SandboxChannel();\n        }\n        var channelLogger = this.getLogger('BeaconChannel');\n        var _a = this.configuration, appId = _a.appId, trackerEndpointUrl = _a.trackerEndpointUrl;\n        var queuedChannel = new channel_1.QueuedChannel(new channel_1.RetryChannel({\n            channel: new channel_1.GuaranteedChannel({\n                channel: new channel_1.BeaconSocketChannel({\n                    trackerEndpointUrl: \"\".concat(trackerEndpointUrl, \"/\").concat(appId),\n                    tokenParameter: 'token',\n                    loggerFactory: this.getLogger.bind(this),\n                    logger: channelLogger,\n                    channelFactory: function (url, logger) { return new channel_1.SocketChannel({ url: url, logger: logger }); },\n                    cidAssigner: this.getCidAssigner(),\n                    cidParameter: 'clientId',\n                }),\n                stamper: new guaranteedChannel_1.TimeStamper(),\n                ackTimeout: 10000,\n                logger: channelLogger,\n            }),\n            retryPolicy: new retry_1.BackoffPolicy({\n                minRetryDelay: 1000,\n                maxRetryDelay: 60 * 1000,\n                backoffFactor: 1.5,\n                backoffJitter: 1, // add randomness\n            }),\n            logger: channelLogger,\n        }), this.getBeaconQueue(), channelLogger);\n        queuedChannel.flush().catch(function () {\n            // Suppress errors as they are already reported by the channel\n        });\n        return new channel_1.EncodedChannel(queuedChannel, transformer_1.encodeJson);\n    };\n    Container.prototype.getCidAssigner = function () {\n        if (this.cidAssigner === undefined) {\n            this.cidAssigner = this.createCidAssigner();\n        }\n        return this.cidAssigner;\n    };\n    Container.prototype.createCidAssigner = function () {\n        if (this.configuration.cid !== undefined) {\n            return new cid_1.FixedAssigner(this.configuration.cid);\n        }\n        if (this.configuration.test) {\n            return new cid_1.FixedAssigner('00000000-0000-0000-0000-000000000000');\n        }\n        var logger = this.getLogger('CidAssigner');\n        return new cid_1.CachedAssigner(new cid_1.RemoteAssigner(this.configuration.bootstrapEndpointUrl, logger), new cache_1.LocalStorageCache(this.getLocalStorage(), 'croct.cid'), logger);\n    };\n    Container.prototype.getBeaconQueue = function () {\n        if (this.beaconQueue === undefined) {\n            this.beaconQueue = this.createBeaconQueue();\n        }\n        return this.beaconQueue;\n    };\n    Container.prototype.createBeaconQueue = function () {\n        var context = this.getContext();\n        var tab = context.getTab();\n        return new queue_1.MonitoredQueue(new queue_1.CapacityRestrictedQueue(new queue_1.PersistentQueue(this.getGlobalTabStorage('queue'), tab.id), this.configuration.beaconQueueSize), this.getLogger('BeaconQueue'));\n    };\n    Container.prototype.getLogger = function () {\n        var namespace = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            namespace[_i] = arguments[_i];\n        }\n        var prefix = \"Croct\".concat(namespace.length === 0 ? '' : \":\".concat(namespace.join(':')));\n        if (this.configuration.logger !== undefined) {\n            return new logging_1.NamespacedLogger(this.configuration.logger, prefix);\n        }\n        if (this.configuration.debug) {\n            return new logging_1.ConsoleLogger(prefix);\n        }\n        return new logging_1.NullLogger();\n    };\n    Container.prototype.getTabStorage = function (namespace) {\n        var subnamespace = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            subnamespace[_i - 1] = arguments[_i];\n        }\n        return this.getGlobalTabStorage.apply(this, tslib_1.__spreadArray(['external', namespace], tslib_1.__read(subnamespace), false));\n    };\n    Container.prototype.getBrowserStorage = function (namespace) {\n        var subnamespace = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            subnamespace[_i - 1] = arguments[_i];\n        }\n        return this.getGlobalBrowserStorage.apply(this, tslib_1.__spreadArray(['external', namespace], tslib_1.__read(subnamespace), false));\n    };\n    Container.prototype.getGlobalTabStorage = function (namespace) {\n        var subnamespace = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            subnamespace[_i - 1] = arguments[_i];\n        }\n        return new namespacedStorage_1.NamespacedStorage(this.getSessionStorage(), this.resolveStorageNamespace.apply(this, tslib_1.__spreadArray([namespace], tslib_1.__read(subnamespace), false)));\n    };\n    Container.prototype.getGlobalBrowserStorage = function (namespace) {\n        var subnamespace = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            subnamespace[_i - 1] = arguments[_i];\n        }\n        return new namespacedStorage_1.NamespacedStorage(this.getLocalStorage(), this.resolveStorageNamespace.apply(this, tslib_1.__spreadArray([namespace], tslib_1.__read(subnamespace), false)));\n    };\n    Container.prototype.resolveStorageNamespace = function (namespace) {\n        var subnamespace = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            subnamespace[_i - 1] = arguments[_i];\n        }\n        return \"croct[\".concat(this.configuration.appId.toLowerCase(), \"].\").concat([namespace].concat(subnamespace).join('.'));\n    };\n    Container.prototype.getLocalStorage = function () {\n        return localStorage;\n    };\n    Container.prototype.getSessionStorage = function () {\n        return sessionStorage;\n    };\n    Container.prototype.getEventManager = function () {\n        return this.eventManager;\n    };\n    Container.prototype.dispose = function () {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var logger;\n            return tslib_1.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        logger = this.getLogger();\n                        if (!this.beaconChannel) return [3 /*break*/, 2];\n                        logger.debug('Closing beacon channel...');\n                        return [4 /*yield*/, this.beaconChannel.close()];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2:\n                        if (this.removeTokenSyncListener) {\n                            logger.debug('Removing token sync listener...');\n                            this.removeTokenSyncListener();\n                        }\n                        if (!this.tracker) return [3 /*break*/, 4];\n                        if (this.beaconQueue) {\n                            logger.debug('Removing queue listeners...');\n                            this.beaconQueue.removeCallback('halfEmpty', this.tracker.unsuspend);\n                            this.beaconQueue.removeCallback('full', this.tracker.suspend);\n                        }\n                        logger.debug('Suspending tracker...');\n                        this.tracker.suspend();\n                        return [4 /*yield*/, this.tracker.flushed];\n                    case 3:\n                        _a.sent();\n                        _a.label = 4;\n                    case 4:\n                        delete this.context;\n                        delete this.tokenProvider;\n                        delete this.cidAssigner;\n                        delete this.tracker;\n                        delete this.evaluator;\n                        delete this.beaconChannel;\n                        delete this.beaconQueue;\n                        delete this.removeTokenSyncListener;\n                        logger.debug('Container resources released.');\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return Container;\n}());\nexports.Container = Container;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Sdk = void 0;\nvar tslib_1 = require(\"tslib\");\nvar container_1 = require(\"./container\");\nvar constants_1 = require(\"./constants\");\nvar schema_1 = require(\"./schema\");\nvar error_1 = require(\"./error\");\nfunction validateConfiguration(configuration) {\n    if (typeof configuration !== 'object' || configuration === null) {\n        throw new Error('The configuration must be a key-value map.');\n    }\n    try {\n        schema_1.sdkConfigurationSchema.validate(configuration);\n    }\n    catch (violation) {\n        throw new Error(\"Invalid configuration: \".concat((0, error_1.formatCause)(violation)));\n    }\n}\nvar Sdk = /** @class */ (function () {\n    function Sdk(container) {\n        this.container = container;\n    }\n    Sdk.init = function (configuration) {\n        var e_1, _a;\n        var _b, _c, _d, _e;\n        validateConfiguration(configuration);\n        var _f = configuration.eventMetadata, customMetadata = _f === void 0 ? {} : _f, containerConfiguration = tslib_1.__rest(configuration, [\"eventMetadata\"]);\n        var eventMetadata = {\n            sdkVersion: constants_1.VERSION,\n        };\n        try {\n            for (var _g = tslib_1.__values(Object.keys(customMetadata)), _h = _g.next(); !_h.done; _h = _g.next()) {\n                var metadata = _h.value;\n                eventMetadata[\"custom_\".concat(metadata)] = customMetadata[metadata];\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_h && !_h.done && (_a = _g.return)) _a.call(_g);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        var container = new container_1.Container(tslib_1.__assign(tslib_1.__assign({}, containerConfiguration), { evaluationEndpointUrl: (_b = containerConfiguration.evaluationEndpointUrl) !== null && _b !== void 0 ? _b : constants_1.EVALUATION_ENDPOINT_URL, trackerEndpointUrl: (_c = containerConfiguration.trackerEndpointUrl) !== null && _c !== void 0 ? _c : constants_1.TRACKER_ENDPOINT_URL, bootstrapEndpointUrl: (_d = containerConfiguration.bootstrapEndpointUrl) !== null && _d !== void 0 ? _d : constants_1.BOOTSTRAP_ENDPOINT_URL, beaconQueueSize: (_e = containerConfiguration.beaconQueueSize) !== null && _e !== void 0 ? _e : 100, eventMetadata: eventMetadata }));\n        var logger = container.getLogger();\n        var _j = container.getConfiguration(), appId = _j.appId, tokenScope = _j.tokenScope;\n        logger.debug('\\n\\n'\n            + ' \u2588\u2588\u2588\u2588\u2588\u2588\u2001\u2588\u2588\u2588\u2588\u2588\u2588\u2001  \u2588\u2588\u2588\u2588\u2588\u2588\u2001  \u2588\u2588\u2588\u2588\u2588\u2588\u2001\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2001\\n'\n            + '\u2588\u2588\u2001\u2001\u2001\u2001\u2001\u2001\u2588\u2588\u2001\u2001\u2001\u2588\u2588\u2001\u2588\u2588\u2001\u2001\u2001\u2001\u2588\u2588\u2001\u2588\u2588\u2001\u2001\u2001\u2001\u2001\u2001\u2001\u2001\u2001\u2588\u2588\u2001\u2001\u2001\u2001\\n'\n            + '\u2588\u2588\u2001     \u2588\u2588\u2588\u2588\u2588\u2588\u2001\u2001\u2588\u2588\u2001   \u2588\u2588\u2001\u2588\u2588\u2001        \u2588\u2588\u2001\u2001\u2001\u2001\\n'\n            + '\u2588\u2588\u2001     \u2588\u2588\u2001\u2001\u2001\u2588\u2588\u2001\u2588\u2588\u2001   \u2588\u2588\u2001\u2588\u2588\u2001        \u2588\u2588\u2001\u2001\u2001\u2001\\n'\n            + ' \u2588\u2588\u2588\u2588\u2588\u2588\u2001\u2588\u2588\u2001  \u2588\u2588\u2001\u2001\u2588\u2588\u2588\u2588\u2588\u2588\u2001\u2001\u2001\u2588\u2588\u2588\u2588\u2588\u2588\u2001   \u2588\u2588\u2001\u2001\u2001\u2001\\n'\n            + '\\n');\n        logger.info(\"Initializing SDK v\".concat(constants_1.VERSION, \"...\"));\n        logger.debug(\"App ID: \".concat(appId));\n        var context = container.getContext();\n        var tab = context.getTab();\n        var user = context.getUser();\n        logger.debug(\"\".concat(tab.isNew ? 'New' : 'Current', \" tab: \").concat(tab.id));\n        logger.debug(\"Token scope: \".concat(tokenScope));\n        logger.debug(\"Current user: \".concat(user !== null ? user : 'anonymous'));\n        logger.debug(\"Test mode: \".concat(containerConfiguration.test));\n        logger.info('\u26A1 Croct SDK is ready!');\n        return new Sdk(container);\n    };\n    Object.defineProperty(Sdk.prototype, \"appId\", {\n        get: function () {\n            var appId = this.container.getConfiguration().appId;\n            return appId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Sdk.prototype, \"cidAssigner\", {\n        get: function () {\n            return this.container.getCidAssigner();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Sdk.prototype, \"context\", {\n        get: function () {\n            return this.container.getContext();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Sdk.prototype, \"tracker\", {\n        get: function () {\n            return this.container.getTracker();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Sdk.prototype, \"evaluator\", {\n        get: function () {\n            return this.container.getEvaluator();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Sdk.prototype, \"eventManager\", {\n        get: function () {\n            return this.container.getEventManager();\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Sdk.prototype.getLogger = function () {\n        var _a;\n        var namespace = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            namespace[_i] = arguments[_i];\n        }\n        return (_a = this.container).getLogger.apply(_a, tslib_1.__spreadArray([], tslib_1.__read(namespace), false));\n    };\n    Sdk.prototype.getTabStorage = function (namespace) {\n        var _a;\n        var subnamespace = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            subnamespace[_i - 1] = arguments[_i];\n        }\n        return (_a = this.container).getTabStorage.apply(_a, tslib_1.__spreadArray([namespace], tslib_1.__read(subnamespace), false));\n    };\n    Sdk.prototype.getBrowserStorage = function (namespace) {\n        var _a;\n        var subnamespace = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            subnamespace[_i - 1] = arguments[_i];\n        }\n        return (_a = this.container).getBrowserStorage.apply(_a, tslib_1.__spreadArray([namespace], tslib_1.__read(subnamespace), false));\n    };\n    Sdk.prototype.close = function () {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var logger;\n            return tslib_1.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (this.closed) {\n                            return [2 /*return*/];\n                        }\n                        logger = this.getLogger();\n                        logger.debug('Closing SDK...');\n                        this.closed = true;\n                        return [4 /*yield*/, this.container.dispose()];\n                    case 1:\n                        _a.sent();\n                        logger.info('SDK closed.');\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return Sdk;\n}());\nexports.Sdk = Sdk;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SessionPatch = void 0;\nvar tslib_1 = require(\"tslib\");\nvar activeRecord_1 = require(\"../activeRecord\");\nvar SessionPatch = /** @class */ (function (_super) {\n    tslib_1.__extends(SessionPatch, _super);\n    function SessionPatch(tracker) {\n        var _this = _super.call(this) || this;\n        _this.tracker = tracker;\n        return _this;\n    }\n    SessionPatch.prototype.save = function () {\n        if (!this.isDirty()) {\n            // Empty patch\n            return Promise.resolve({\n                type: 'sessionAttributesChanged',\n                patch: { operations: [] },\n            });\n        }\n        var promise = this.tracker.track({\n            type: 'sessionAttributesChanged',\n            patch: this.buildPatch(),\n        });\n        this.reset();\n        return promise;\n    };\n    return SessionPatch;\n}(activeRecord_1.ActiveRecord));\nexports.SessionPatch = SessionPatch;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SessionFacade = void 0;\nvar sessionPatch_1 = require(\"./sessionPatch\");\nvar SessionFacade = /** @class */ (function () {\n    function SessionFacade(tracker) {\n        this.tracker = tracker;\n    }\n    SessionFacade.prototype.edit = function () {\n        return new sessionPatch_1.SessionPatch(this.tracker);\n    };\n    return SessionFacade;\n}());\nexports.SessionFacade = SessionFacade;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SdkFacade = void 0;\nvar tslib_1 = require(\"tslib\");\nvar evaluatorFacade_1 = require(\"./evaluatorFacade\");\nvar trackerFacade_1 = require(\"./trackerFacade\");\nvar userFacade_1 = require(\"./userFacade\");\nvar token_1 = require(\"../token\");\nvar error_1 = require(\"../error\");\nvar schema_1 = require(\"../schema\");\nvar sdk_1 = require(\"../sdk\");\nvar sessionFacade_1 = require(\"./sessionFacade\");\nfunction validateConfiguration(configuration) {\n    if (typeof configuration !== 'object' || configuration === null) {\n        throw new Error('The configuration must be a key-value map.');\n    }\n    try {\n        schema_1.sdkFacadeConfigurationSchema.validate(configuration);\n    }\n    catch (violation) {\n        throw new Error(\"Invalid configuration: \".concat((0, error_1.formatCause)(violation)));\n    }\n}\nvar SdkFacade = /** @class */ (function () {\n    function SdkFacade(sdk) {\n        this.sdk = sdk;\n    }\n    SdkFacade.init = function (configuration) {\n        var _a, _b, _c;\n        validateConfiguration(configuration);\n        var _d = configuration.track, track = _d === void 0 ? true : _d, userId = configuration.userId, token = configuration.token, containerConfiguration = tslib_1.__rest(configuration, [\"track\", \"userId\", \"token\"]);\n        if (userId !== undefined && token !== undefined) {\n            throw new Error('Either the user ID or token can be specified, but not both.');\n        }\n        var sdk = new SdkFacade(sdk_1.Sdk.init(tslib_1.__assign(tslib_1.__assign({}, containerConfiguration), { tokenScope: (_a = containerConfiguration.tokenScope) !== null && _a !== void 0 ? _a : 'global', debug: (_b = containerConfiguration.debug) !== null && _b !== void 0 ? _b : false, test: (_c = containerConfiguration.test) !== null && _c !== void 0 ? _c : false })));\n        if (userId !== undefined) {\n            sdk.identify(userId);\n        }\n        else if (token !== undefined) {\n            if (token === null) {\n                sdk.unsetToken();\n            }\n            else {\n                sdk.setToken(token_1.Token.parse(token));\n            }\n        }\n        if (track) {\n            sdk.tracker.enable();\n        }\n        return sdk;\n    };\n    Object.defineProperty(SdkFacade.prototype, \"context\", {\n        get: function () {\n            return this.sdk.context;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SdkFacade.prototype, \"cidAssigner\", {\n        get: function () {\n            return this.sdk.cidAssigner;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SdkFacade.prototype, \"tracker\", {\n        get: function () {\n            if (this.trackerFacade === undefined) {\n                this.trackerFacade = new trackerFacade_1.TrackerFacade(this.sdk.tracker);\n            }\n            return this.trackerFacade;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SdkFacade.prototype, \"user\", {\n        get: function () {\n            if (this.userFacade === undefined) {\n                this.userFacade = new userFacade_1.UserFacade(this.context, this.sdk.tracker);\n            }\n            return this.userFacade;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SdkFacade.prototype, \"session\", {\n        get: function () {\n            if (this.sessionFacade === undefined) {\n                this.sessionFacade = new sessionFacade_1.SessionFacade(this.sdk.tracker);\n            }\n            return this.sessionFacade;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SdkFacade.prototype, \"evaluator\", {\n        get: function () {\n            if (this.evaluatorFacade === undefined) {\n                this.evaluatorFacade = new evaluatorFacade_1.EvaluatorFacade(this.sdk.evaluator, new evaluatorFacade_1.TabContextFactory(this.sdk.context.getTab()));\n            }\n            return this.evaluatorFacade;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(SdkFacade.prototype, \"eventManager\", {\n        get: function () {\n            var eventManager = this.sdk.eventManager;\n            return {\n                addListener: eventManager.addListener.bind(eventManager),\n                removeListener: eventManager.removeListener.bind(eventManager),\n                dispatch: function (eventName, event) {\n                    if (!/[a-z][a-z_]+\\.[a-z][a-z_]+/i.test(eventName)) {\n                        throw new Error('The event name must be in the form of \"namespaced.eventName\", where '\n                            + 'both the namespace and event name must start with a letter, followed by '\n                            + 'any series of letters and underscores.');\n                    }\n                    eventManager.dispatch(eventName, event);\n                },\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    SdkFacade.prototype.identify = function (userId) {\n        this.setToken(token_1.Token.issue(this.sdk.appId, userId));\n    };\n    SdkFacade.prototype.anonymize = function () {\n        if (!this.context.isAnonymous()) {\n            this.unsetToken();\n        }\n    };\n    SdkFacade.prototype.getToken = function () {\n        return this.context.getToken();\n    };\n    SdkFacade.prototype.setToken = function (token) {\n        var _a;\n        var currentToken = this.getToken();\n        if (currentToken !== null && currentToken.toString() === token.toString()) {\n            return;\n        }\n        var currentSubject = (_a = currentToken === null || currentToken === void 0 ? void 0 : currentToken.getSubject()) !== null && _a !== void 0 ? _a : null;\n        var subject = token.getSubject();\n        var logger = this.getLogger();\n        if (subject === currentSubject) {\n            this.context.setToken(token);\n            logger.debug('Token refreshed');\n            return;\n        }\n        if (currentSubject !== null) {\n            this.trackInternalEvent({\n                type: 'userSignedOut',\n                userId: currentSubject,\n            });\n            logger.info('User signed out');\n        }\n        this.context.setToken(token);\n        if (subject !== null) {\n            this.trackInternalEvent({\n                type: 'userSignedIn',\n                userId: subject,\n            });\n            logger.info(\"User signed in as \".concat(subject));\n        }\n        logger.debug('New token saved, ');\n    };\n    SdkFacade.prototype.unsetToken = function () {\n        var token = this.getToken();\n        if (token === null) {\n            return;\n        }\n        var logger = this.getLogger();\n        var subject = token.getSubject();\n        if (subject !== null) {\n            this.trackInternalEvent({\n                type: 'userSignedOut',\n                userId: subject,\n            });\n            logger.info('User signed out');\n        }\n        this.context.setToken(null);\n        logger.debug('Token removed');\n    };\n    SdkFacade.prototype.trackInternalEvent = function (event) {\n        this.sdk.tracker.track(event).catch(function () {\n            // suppress error as it is already logged by the tracker\n        });\n    };\n    SdkFacade.prototype.getLogger = function () {\n        var _a;\n        var namespace = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            namespace[_i] = arguments[_i];\n        }\n        return (_a = this.sdk).getLogger.apply(_a, tslib_1.__spreadArray([], tslib_1.__read(namespace), false));\n    };\n    SdkFacade.prototype.getTabStorage = function (namespace) {\n        var _a;\n        var subnamespace = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            subnamespace[_i - 1] = arguments[_i];\n        }\n        return (_a = this.sdk).getTabStorage.apply(_a, tslib_1.__spreadArray([namespace], tslib_1.__read(subnamespace), false));\n    };\n    SdkFacade.prototype.getBrowserStorage = function (namespace) {\n        var _a;\n        var subnamespace = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            subnamespace[_i - 1] = arguments[_i];\n        }\n        return (_a = this.sdk).getBrowserStorage.apply(_a, tslib_1.__spreadArray([namespace], tslib_1.__read(subnamespace), false));\n    };\n    SdkFacade.prototype.close = function () {\n        return this.sdk.close();\n    };\n    return SdkFacade;\n}());\nexports.SdkFacade = SdkFacade;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.VERSION = exports.Sdk = void 0;\nvar constants_1 = require(\"./constants\");\nObject.defineProperty(exports, \"VERSION\", { enumerable: true, get: function () { return constants_1.VERSION; } });\nvar sdk_1 = require(\"./sdk\");\nObject.defineProperty(exports, \"Sdk\", { enumerable: true, get: function () { return sdk_1.Sdk; } });\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PLAYGROUND_CONNECT_URL = exports.PLAYGROUND_ORIGIN = exports.CDN_URL = void 0;\nexports.CDN_URL = 'https://cdn.croct.io/js/v1/lib/plug.js';\nexports.PLAYGROUND_ORIGIN = 'https://play.croct.com';\nexports.PLAYGROUND_CONNECT_URL = 'https://play.croct.com/connect.html';\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PlaygroundPlugin = exports.factory = void 0;\nvar error_1 = require(\"@croct/sdk/error\");\nvar evaluatorFacade_1 = require(\"@croct/sdk/facade/evaluatorFacade\");\nvar constants_1 = require(\"./constants\");\nvar factory = function (_a) {\n    var sdk = _a.sdk, options = _a.options;\n    return new PlaygroundPlugin({\n        sdkVersion: sdk.version,\n        appId: sdk.appId,\n        connectionId: options.connectionId,\n        tab: sdk.tab,\n        storage: sdk.getTabStorage(),\n        tokenProvider: sdk.tokenStore,\n        cidAssigner: sdk.cidAssigner,\n        contextFactory: new evaluatorFacade_1.TabContextFactory(sdk.tab),\n        eventSubscriber: sdk.eventManager,\n        logger: sdk.getLogger(),\n    });\n};\nexports.factory = factory;\nvar CONNECTION_PARAMETER = '__cplay';\nvar PlaygroundPlugin = /** @class */ (function () {\n    function PlaygroundPlugin(configuration) {\n        this.sdkVersion = configuration.sdkVersion;\n        this.appId = configuration.appId;\n        this.connectionId = configuration.connectionId;\n        this.tab = configuration.tab;\n        this.contextFactory = configuration.contextFactory;\n        this.storage = configuration.storage;\n        this.eventSubscriber = configuration.eventSubscriber;\n        this.cidAssigner = configuration.cidAssigner;\n        this.tokenProvider = configuration.tokenProvider;\n        this.logger = configuration.logger;\n    }\n    PlaygroundPlugin.prototype.enable = function () {\n        var _this = this;\n        var connectionId = this.resolveConnectionId();\n        if (connectionId === null) {\n            return;\n        }\n        this.syncListener = function () {\n            return _this.cidAssigner.assignCid()\n                .then(function (cid) {\n                _this.syncToken(connectionId, cid);\n            })\n                .catch(function (error) {\n                _this.logger.warn(\"Sync failed: \" + error_1.formatCause(error));\n            });\n        };\n        this.eventSubscriber.addListener('tokenChanged', this.syncListener);\n        this.tab.addListener('urlChange', this.syncListener);\n        return this.syncListener();\n    };\n    PlaygroundPlugin.prototype.resolveConnectionId = function () {\n        if (this.connectionId !== undefined) {\n            this.logger.debug('Connection ID passed in configuration');\n            return this.connectionId;\n        }\n        var url = new URL(this.tab.url);\n        var connectionId = url.searchParams.get(CONNECTION_PARAMETER);\n        if (connectionId === null || connectionId === '') {\n            this.logger.debug('No connection ID found in URL');\n            connectionId = this.storage.getItem('connectionId');\n            this.logger.debug(connectionId !== null\n                ? 'Previous connection ID found'\n                : 'No previous connection ID found');\n            return connectionId;\n        }\n        this.logger.debug('Connection ID found in URL');\n        this.storage.setItem('connectionId', connectionId);\n        return connectionId;\n    };\n    PlaygroundPlugin.prototype.disable = function () {\n        if (this.syncListener !== undefined) {\n            this.eventSubscriber.removeListener('tokenChanged', this.syncListener);\n            this.tab.removeListener('urlChange', this.syncListener);\n            delete this.syncListener;\n        }\n    };\n    PlaygroundPlugin.prototype.syncToken = function (connectionId, cid) {\n        var _this = this;\n        var iframe = document.createElement('iframe');\n        iframe.setAttribute('src', constants_1.PLAYGROUND_CONNECT_URL);\n        iframe.setAttribute('sandbox', 'allow-scripts allow-same-origin');\n        iframe.style.visibility = 'hidden';\n        iframe.style.opacity = '0';\n        iframe.style.border = '0';\n        iframe.style.width = '0';\n        iframe.style.height = '0';\n        var context = this.createContext();\n        iframe.onload = function () {\n            var _a, _b;\n            if (iframe.contentWindow === null) {\n                if (document.body.contains(iframe)) {\n                    document.body.removeChild(iframe);\n                }\n                _this.logger.warn('Sync handshake failed');\n                return;\n            }\n            var listener = function (event) {\n                if (event.origin !== constants_1.PLAYGROUND_ORIGIN || event.data !== connectionId) {\n                    return;\n                }\n                window.removeEventListener('message', listener);\n                if (document.body.contains(iframe)) {\n                    document.body.removeChild(iframe);\n                }\n                _this.logger.debug('Sync completed');\n            };\n            window.addEventListener('message', listener);\n            var payload = {\n                appId: _this.appId,\n                connectionId: connectionId,\n                sdkVersion: _this.sdkVersion,\n                tabId: _this.tab.id,\n                cid: cid,\n                token: (_b = (_a = _this.tokenProvider.getToken()) === null || _a === void 0 ? void 0 : _a.toString()) !== null && _b !== void 0 ? _b : null,\n                context: context,\n            };\n            iframe.contentWindow.postMessage(payload, constants_1.PLAYGROUND_ORIGIN);\n            _this.logger.debug('Waiting for sync acknowledgment...');\n        };\n        this.logger.debug('Sync started');\n        var connect = function () {\n            document.body.appendChild(iframe);\n        };\n        if (document.body === null) {\n            document.addEventListener('DOMContentLoaded', connect);\n        }\n        else {\n            connect();\n        }\n    };\n    PlaygroundPlugin.prototype.createContext = function () {\n        var _a = this.contextFactory.createContext(), page = _a.page, campaign = _a.campaign, timezone = _a.timezone;\n        var context = {};\n        if (page !== undefined) {\n            context.page = page;\n        }\n        if (campaign !== undefined) {\n            context.campaign = campaign;\n        }\n        if (timezone !== undefined) {\n            context.timezone = timezone;\n        }\n        return context;\n    };\n    return PlaygroundPlugin;\n}());\nexports.PlaygroundPlugin = PlaygroundPlugin;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GlobalPlug = void 0;\nvar tslib_1 = require(\"tslib\");\nvar sdkFacade_1 = require(\"@croct/sdk/facade/sdkFacade\");\nvar error_1 = require(\"@croct/sdk/error\");\nvar validation_1 = require(\"@croct/sdk/validation\");\nvar token_1 = require(\"@croct/sdk/token\");\nvar sdk_1 = require(\"@croct/sdk\");\nvar constants_1 = require(\"./constants\");\nvar playground_1 = require(\"./playground\");\nvar PLUGIN_NAMESPACE = 'Plugin';\nfunction detectAppId() {\n    var script = window.document.querySelector(\"script[src^='\" + constants_1.CDN_URL + \"']\");\n    if (!(script instanceof HTMLScriptElement)) {\n        return null;\n    }\n    return (new URL(script.src)).searchParams.get('appId');\n}\nvar GlobalPlug = /** @class */ (function () {\n    function GlobalPlug() {\n        var _this = this;\n        this.pluginFactories = { playground: playground_1.factory };\n        this.plugins = {};\n        this.ready = new Promise(function (resolve) {\n            _this.initialize = resolve;\n        });\n    }\n    GlobalPlug.prototype.extend = function (name, plugin) {\n        if (this.pluginFactories[name] !== undefined) {\n            throw new Error(\"Another plugin is already registered with name \\\"\" + name + \"\\\".\");\n        }\n        this.pluginFactories[name] = plugin;\n    };\n    GlobalPlug.prototype.plug = function (configuration) {\n        var e_1, _a;\n        var _this = this;\n        var _b, _c, _d, _e;\n        if (configuration === void 0) { configuration = {}; }\n        if (this.instance !== undefined) {\n            var logger_1 = this.instance.getLogger();\n            logger_1.info('Croct is already plugged in.');\n            return;\n        }\n        var detectedAppId = detectAppId();\n        var configuredAppId = (_b = configuration.appId) !== null && _b !== void 0 ? _b : null;\n        if (detectedAppId !== null && configuredAppId !== null && detectedAppId !== configuredAppId) {\n            throw new Error('The specified app ID and the auto-detected app ID are conflicting. '\n                + 'There is no need to specify an app ID when using an application-specific tag. '\n                + 'Please try again omitting the \"appId\" option.');\n        }\n        var appId = detectedAppId !== null && detectedAppId !== void 0 ? detectedAppId : configuredAppId;\n        if (appId === null) {\n            throw new Error('The app ID must be specified when it cannot be auto-detected. '\n                + 'Please try again specifying the \"appId\" option.');\n        }\n        var plugins = configuration.plugins, test = configuration.test, sdkConfiguration = tslib_1.__rest(configuration, [\"plugins\", \"test\"]);\n        var sdk = sdkFacade_1.SdkFacade.init(tslib_1.__assign(tslib_1.__assign({}, sdkConfiguration), { appId: appId, test: test !== null && test !== void 0 ? test : (typeof process === 'object' && (((_c = process.env) === null || _c === void 0 ? void 0 : _c.CROCT_TEST_MODE) !== undefined\n                ? process.env.CROCT_TEST_MODE === 'true'\n                : ((_d = process.env) === null || _d === void 0 ? void 0 : _d.NODE_ENV) === 'test')) }));\n        this.instance = sdk;\n        var logger = this.instance.getLogger();\n        if (detectedAppId === configuredAppId) {\n            logger.warn('It is strongly recommended omitting the \"appId\" option when using '\n                + 'the application-specific tag as it is detected automatically.');\n        }\n        var pending = [];\n        var _loop_1 = function (name_1, options) {\n            logger.debug(\"Initializing plugin \\\"\" + name_1 + \"\\\"...\");\n            var factory = this_1.pluginFactories[name_1];\n            if (factory === undefined) {\n                logger.error(\"Plugin \\\"\" + name_1 + \"\\\" is not registered.\");\n                return \"continue\";\n            }\n            if (typeof options !== 'boolean' && (options === null || typeof options !== 'object')) {\n                logger.error(\"Invalid options for plugin \\\"\" + name_1 + \"\\\", \"\n                    + (\"expected either boolean or object but got \" + validation_1.describe(options)));\n                return \"continue\";\n            }\n            if (options === false) {\n                logger.warn(\"Plugin \\\"\" + name_1 + \"\\\" is declared but not enabled\");\n                return \"continue\";\n            }\n            var args = {\n                options: options === true ? {} : options,\n                sdk: {\n                    version: sdk_1.VERSION,\n                    appId: appId,\n                    tracker: sdk.tracker,\n                    evaluator: sdk.evaluator,\n                    user: sdk.user,\n                    session: sdk.session,\n                    tab: sdk.context.getTab(),\n                    tokenStore: {\n                        getToken: sdk.getToken.bind(sdk),\n                        setToken: sdk.setToken.bind(sdk),\n                    },\n                    cidAssigner: sdk.cidAssigner,\n                    eventManager: sdk.eventManager,\n                    getLogger: function () {\n                        var namespace = [];\n                        for (var _i = 0; _i < arguments.length; _i++) {\n                            namespace[_i] = arguments[_i];\n                        }\n                        return sdk.getLogger.apply(sdk, tslib_1.__spreadArray([PLUGIN_NAMESPACE, name_1], tslib_1.__read(namespace)));\n                    },\n                    getTabStorage: function () {\n                        var namespace = [];\n                        for (var _i = 0; _i < arguments.length; _i++) {\n                            namespace[_i] = arguments[_i];\n                        }\n                        return sdk.getTabStorage.apply(sdk, tslib_1.__spreadArray([PLUGIN_NAMESPACE, name_1], tslib_1.__read(namespace)));\n                    },\n                    getBrowserStorage: function () {\n                        var namespace = [];\n                        for (var _i = 0; _i < arguments.length; _i++) {\n                            namespace[_i] = arguments[_i];\n                        }\n                        return sdk.getBrowserStorage.apply(sdk, tslib_1.__spreadArray([PLUGIN_NAMESPACE, name_1], tslib_1.__read(namespace)));\n                    },\n                },\n            };\n            var plugin = void 0;\n            try {\n                plugin = factory(args);\n            }\n            catch (error) {\n                logger.error(\"Failed to initialize plugin \\\"\" + name_1 + \"\\\": \" + error_1.formatCause(error));\n                return \"continue\";\n            }\n            logger.debug(\"Plugin \\\"\" + name_1 + \"\\\" initialized\");\n            if (typeof plugin !== 'object') {\n                return \"continue\";\n            }\n            this_1.plugins[name_1] = plugin;\n            var promise = plugin.enable();\n            if (!(promise instanceof Promise)) {\n                logger.debug(\"Plugin \\\"\" + name_1 + \"\\\" enabled\");\n                return \"continue\";\n            }\n            pending.push(promise\n                .then(function () { return logger.debug(\"Plugin \\\"\" + name_1 + \"\\\" enabled\"); })\n                .catch(function (error) { return logger.error(\"Failed to enable plugin \\\"\" + name_1 + \"\\\": \" + error_1.formatCause(error)); }));\n        };\n        var this_1 = this;\n        try {\n            for (var _f = tslib_1.__values(Object.entries(tslib_1.__assign({ playground: true }, plugins))), _g = _f.next(); !_g.done; _g = _f.next()) {\n                var _h = tslib_1.__read(_g.value, 2), name_1 = _h[0], options = _h[1];\n                _loop_1(name_1, options);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_g && !_g.done && (_a = _f.return)) _a.call(_f);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        var initializeEap = (_e = window.croctEap) === null || _e === void 0 ? void 0 : _e.initialize;\n        if (typeof initializeEap === 'function') {\n            initializeEap.call(this);\n        }\n        Promise.all(pending).then(function () {\n            _this.initialize();\n            logger.debug('Initialization complete');\n        });\n    };\n    Object.defineProperty(GlobalPlug.prototype, \"initialized\", {\n        get: function () {\n            return this.instance !== undefined;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(GlobalPlug.prototype, \"plugged\", {\n        get: function () {\n            var _this = this;\n            return this.ready.then(function () { return _this; });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(GlobalPlug.prototype, \"flushed\", {\n        get: function () {\n            var _this = this;\n            return this.tracker.flushed.then(function () { return _this; });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(GlobalPlug.prototype, \"sdk\", {\n        get: function () {\n            if (this.instance === undefined) {\n                throw new Error('Croct is not plugged in.');\n            }\n            return this.instance;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(GlobalPlug.prototype, \"tracker\", {\n        get: function () {\n            return this.sdk.tracker;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(GlobalPlug.prototype, \"evaluator\", {\n        get: function () {\n            return this.sdk.evaluator;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(GlobalPlug.prototype, \"user\", {\n        get: function () {\n            return this.sdk.user;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(GlobalPlug.prototype, \"session\", {\n        get: function () {\n            return this.sdk.session;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    GlobalPlug.prototype.isAnonymous = function () {\n        return this.sdk.context.isAnonymous();\n    };\n    GlobalPlug.prototype.getUserId = function () {\n        return this.sdk.context.getUser();\n    };\n    GlobalPlug.prototype.identify = function (userId) {\n        if (typeof userId !== 'string') {\n            throw new Error('The user ID must be a string. Read more on https://croct.help/plug-js/id-conversion');\n        }\n        this.sdk.identify(userId);\n    };\n    GlobalPlug.prototype.anonymize = function () {\n        this.sdk.anonymize();\n    };\n    GlobalPlug.prototype.setToken = function (token) {\n        this.sdk.setToken(token_1.Token.parse(token));\n    };\n    GlobalPlug.prototype.unsetToken = function () {\n        this.sdk.unsetToken();\n    };\n    GlobalPlug.prototype.track = function (type, payload) {\n        return this.sdk.tracker.track(type, payload);\n    };\n    GlobalPlug.prototype.evaluate = function (expression, options) {\n        if (options === void 0) { options = {}; }\n        return this.sdk.evaluator.evaluate(expression, options);\n    };\n    GlobalPlug.prototype.test = function (expression, options) {\n        if (options === void 0) { options = {}; }\n        return this.evaluate(expression, options)\n            .then(function (result) { return result === true; });\n    };\n    /**\n     * This API is unstable and subject to change in future releases.\n     */\n    GlobalPlug.prototype.fetch = function (slotId, options) {\n        if (options === void 0) { options = {}; }\n        return this.eap('fetch').call(this, slotId, options);\n    };\n    GlobalPlug.prototype.unplug = function () {\n        return tslib_1.__awaiter(this, void 0, void 0, function () {\n            var _a, instance, plugins, logger, pending, _loop_2, _b, _c, _d, pluginName, controller;\n            var e_2, _e;\n            var _this = this;\n            return tslib_1.__generator(this, function (_f) {\n                switch (_f.label) {\n                    case 0:\n                        if (this.instance === undefined) {\n                            return [2 /*return*/];\n                        }\n                        _a = this, instance = _a.instance, plugins = _a.plugins;\n                        logger = this.sdk.getLogger();\n                        pending = [];\n                        _loop_2 = function (pluginName, controller) {\n                            if (typeof controller.disable !== 'function') {\n                                return \"continue\";\n                            }\n                            logger.debug(\"Disabling plugin \\\"\" + pluginName + \"\\\"...\");\n                            var promise = controller.disable();\n                            if (!(promise instanceof Promise)) {\n                                logger.debug(\"Plugin \\\"\" + pluginName + \"\\\" disabled\");\n                                return \"continue\";\n                            }\n                            pending.push(promise\n                                .then(function () { return logger.debug(\"Plugin \\\"\" + pluginName + \"\\\" disabled\"); })\n                                .catch(function (error) { return logger.error(\"Failed to disable \\\"\" + pluginName + \"\\\": \" + error_1.formatCause(error)); }));\n                        };\n                        try {\n                            for (_b = tslib_1.__values(Object.entries(plugins)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                                _d = tslib_1.__read(_c.value, 2), pluginName = _d[0], controller = _d[1];\n                                _loop_2(pluginName, controller);\n                            }\n                        }\n                        catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                        finally {\n                            try {\n                                if (_c && !_c.done && (_e = _b.return)) _e.call(_b);\n                            }\n                            finally { if (e_2) throw e_2.error; }\n                        }\n                        // Reset\n                        delete this.instance;\n                        this.plugins = {};\n                        this.ready = new Promise(function (resolve) {\n                            _this.initialize = resolve;\n                        });\n                        return [4 /*yield*/, Promise.all(pending)];\n                    case 1:\n                        _f.sent();\n                        _f.label = 2;\n                    case 2:\n                        _f.trys.push([2, , 4, 5]);\n                        return [4 /*yield*/, instance.close()];\n                    case 3:\n                        _f.sent();\n                        return [3 /*break*/, 5];\n                    case 4:\n                        logger.info('\uD83D\uDD0C Croct has been unplugged.');\n                        return [7 /*endfinally*/];\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    GlobalPlug.prototype.eap = function (feature) {\n        var logger = this.sdk.getLogger();\n        var eap = window.croctEap;\n        var method = typeof eap === 'object' ? eap[feature] : undefined;\n        if (typeof method !== 'function') {\n            throw new Error(\"The \" + feature + \" feature is currently available only to accounts participating in our \"\n                + 'Early-Access Program (EAP). Please contact your Customer Success Manager or email eap@croct.com '\n                + 'to check your account eligibility.');\n        }\n        logger.warn(\"The \" + feature + \" API is still unstable and subject to change in future releases.\");\n        return method;\n    };\n    return GlobalPlug;\n}());\nexports.GlobalPlug = GlobalPlug;\n", "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar plug_1 = require(\"./plug\");\n/* eslint-disable-next-line import/no-default-export */\nexports.default = new plug_1.GlobalPlug();\n", "var jsxRuntime = require('react/jsx-runtime');\r\nvar react = require('react');\r\nconst { _objectWithoutPropertiesLoose, _excluded$1, useEvaluation } = require(\"./index\");\r\n\r\nfunction Personalization(props) {\r\n  var {\r\n    expression, children\r\n  } = props, options = _objectWithoutPropertiesLoose(props, _excluded$1);\r\n\r\n  var result = useEvaluation(expression, options);\r\n  return jsxRuntime.jsx(react.Fragment, {\r\n    children: children(result)\r\n  });\r\n}\r\n", "import csrPlug, {Plug} from '@croct/plug';\n\nexport function isSsr(): boolean {\n    return typeof window === 'undefined'\n        || typeof window.document === 'undefined'\n        || typeof window.document.createElement === 'undefined';\n}\n\nexport const croct: Plug = !isSsr() ? csrPlug : new Proxy(csrPlug, {\n    get(_, property: keyof Plug) {\n        switch (property) {\n            case 'initialized':\n                return false;\n\n            case 'plug':\n                return () => {\n                    // no-op\n                };\n\n            case 'unplug':\n                return () => Promise.resolve();\n\n            default:\n                throw new Error(\n                    `Property croct.${String(property)} is not supported on server-side (SSR). Consider refactoring `\n                    + 'the logic as a side-effect (useEffect) or a client-side callback (onClick, onChange, etc).',\n                );\n        }\n    },\n});\n\n", "import {createContext, FunctionComponent, PropsWithChildren, ReactElement, useContext, useEffect, useMemo} from 'react';\nimport {Configuration, Plug} from '@croct/plug';\nimport {croct} from './ssr-polyfills';\n\nexport type CroctProviderProps = PropsWithChildren<Configuration & Required<Pick<Configuration, 'appId'>>>;\n\nexport const CroctContext = createContext<{plug: Plug}|null>(null);\nCroctContext.displayName = 'CroctContext';\n\nexport const CroctProvider: FunctionComponent<CroctProviderProps> = ({children, ...configuration}): ReactElement => {\n    const parent = useContext(CroctContext);\n\n    if (parent !== null) {\n        throw new Error(\n            'You cannot render <CroctProvider> inside another <CroctProvider>. '\n            + 'Croct should only be initialized once in the application.',\n        );\n    }\n\n    const context = useMemo(() => ({\n        get plug() {\n            if (!croct.initialized) {\n                croct.plug(configuration);\n            }\n\n            return croct;\n        },\n    }), [configuration]);\n\n    useEffect(() => {\n        croct.plug(configuration);\n\n        return () => {\n            croct.unplug();\n        };\n    }, []);\n\n    return (\n        <CroctContext.Provider value={context}>\n            {children}\n        </CroctContext.Provider>\n    );\n};\n", "export type EntryLoader<R> = (...args: any) => Promise<R>;\n\nexport type EntryOptions<R> = {\n    cacheKey: string,\n    loader: EntryLoader<R>,\n    fallback?: R,\n    expiration?: number,\n};\n\ntype Entry<R = any> = {\n    promise: Promise<any>,\n    result?: R,\n    dispose: () => void,\n    timeout?: number,\n    error?: any,\n};\n\nexport class Cache {\n    private readonly cache: Record<string, Entry> = {};\n\n    private readonly defaultExpiration: number;\n\n    public constructor(defaultExpiration: number) {\n        this.defaultExpiration = defaultExpiration;\n    }\n\n    public load<R>(configuration: EntryOptions<R>): R {\n        const {cacheKey, loader, fallback, expiration = this.defaultExpiration} = configuration;\n\n        const cachedEntry = this.get<R>(cacheKey);\n\n        if (cachedEntry !== undefined) {\n            if (cachedEntry.error !== undefined) {\n                if (fallback !== undefined) {\n                    return fallback;\n                }\n\n                throw cachedEntry.error;\n            }\n\n            if (cachedEntry.result !== undefined) {\n                return cachedEntry.result;\n            }\n\n            throw cachedEntry.promise;\n        }\n\n        const entry: Entry<R> = {\n            dispose: () => {\n                if (entry.timeout !== undefined || expiration < 0) {\n                    return;\n                }\n\n                entry.timeout = window.setTimeout(\n                    (): void => {\n                        delete this.cache[cacheKey];\n                    },\n                    expiration,\n                );\n            },\n            promise: loader()\n                .then((result): R => {\n                    entry.result = result;\n\n                    return result;\n                })\n                .catch(error => {\n                    entry.error = error;\n                })\n                .finally(() => {\n                    entry.dispose();\n                }),\n        };\n\n        this.cache[cacheKey] = entry;\n\n        throw entry.promise;\n    }\n\n    public get<R>(cacheKey: string): Entry<R>|undefined {\n        const entry = this.cache[cacheKey];\n\n        if (entry === undefined) {\n            return undefined;\n        }\n\n        if (entry.timeout !== undefined) {\n            clearTimeout(entry.timeout);\n\n            delete entry.timeout;\n\n            entry.dispose();\n        }\n\n        return entry;\n    }\n}\n", "import {useEffect, useState} from 'react';\nimport {Cache, EntryOptions} from './Cache';\n\nconst cache = new Cache(60 * 1000);\n\nexport type CacheOptions<R> = EntryOptions<R> & {\n    initial?: R,\n};\n\nexport function useLoader<R>({initial, ...options}: CacheOptions<R>): R {\n    const loadedValue: R|undefined = cache.get<R>(options.cacheKey)?.result;\n    const [value, setValue] = useState(loadedValue !== undefined ? loadedValue : initial);\n    const [isUnmounted, setUnmounted] = useState(false);\n\n    useEffect(\n        () => {\n            if (initial !== undefined) {\n                try {\n                    setValue(cache.load(options));\n                } catch (result: unknown) {\n                    if (result instanceof Promise) {\n                        result.then((resolvedValue: R) => {\n                            if (!isUnmounted) {\n                                setValue(resolvedValue);\n                            }\n                        });\n\n                        return;\n                    }\n\n                    setValue(undefined);\n\n                    return;\n                }\n            }\n\n            return () => {\n                setUnmounted(true);\n            };\n        },\n        [],\n    );\n\n    if (value === undefined) {\n        return cache.load(options);\n    }\n\n    return value;\n}\n", "import {Plug} from '@croct/plug';\nimport {useContext} from 'react';\nimport {CroctContext} from '../CroctProvider';\n\nexport function useCroct(): Plug {\n    const context = useContext(CroctContext);\n\n    if (context === null) {\n        throw new Error('useCroct() can only be used in the context of a <CroctProvider> component.');\n    }\n\n    return context.plug;\n}\n", "import {JsonValue} from '@croct/plug/sdk/json';\nimport {EvaluationOptions} from '@croct/sdk/facade/evaluatorFacade';\nimport {useLoader} from './useLoader';\nimport {useCroct} from './useCroct';\nimport {isSsr} from '../ssr-polyfills';\n\nfunction cleanEvaluationOptions(options: EvaluationOptions): EvaluationOptions {\n    const result: EvaluationOptions = {};\n\n    for (const [key, value] of Object.entries(options)) {\n        if (value !== undefined) {\n            result[key] = value;\n        }\n    }\n\n    return result;\n}\n\nexport type UseEvaluationOptions<I, F> = EvaluationOptions & {\n    initial?: I,\n    fallback?: F,\n    cacheKey?: string,\n    expiration?: number,\n};\n\ntype UseEvaluationHook = <T extends JsonValue, I = T, F = T>(\n    expression: string,\n    options?: UseEvaluationOptions<I, F>,\n) => T | I | F;\n\nfunction useCsrEvaluation<T = JsonValue, I = T, F = T>(\n    expression: string,\n    options: UseEvaluationOptions<I, F> = {},\n): T | I | F {\n    const {cacheKey, fallback, initial, expiration, ...evaluationOptions} = options;\n    const croct = useCroct();\n\n    return useLoader<T | I | F>({\n        cacheKey: `useEvaluation:${cacheKey ?? ''}:${expression}:${JSON.stringify(options.attributes ?? '')}`,\n        loader: () => croct.evaluate<T & JsonValue>(expression, cleanEvaluationOptions(evaluationOptions)),\n        initial: initial,\n        fallback: fallback,\n        expiration: expiration,\n    });\n}\n\nfunction useSsrEvaluation<T = JsonValue, I = T, F = T>(\n    _: string,\n    {initial}: UseEvaluationOptions<I, F> = {},\n): T | I | F {\n    if (initial === undefined) {\n        throw new Error('The initial value is required for server-side rendering (SSR).');\n    }\n\n    return initial;\n}\n\nexport const useEvaluation: UseEvaluationHook = isSsr() ? useSsrEvaluation : useCsrEvaluation;\n", "import {SlotContent, SlotId, SlotMap} from '@croct/plug/fetch';\nimport {NullableJsonObject} from '@croct/plug/sdk/json';\nimport {useLoader} from './useLoader';\nimport {useCroct} from './useCroct';\nimport {isSsr} from '../ssr-polyfills';\n\nexport type UseContentOptions<I, F> = {\n    fallback?: F,\n    initial?: I,\n    cacheKey?: string,\n    expiration?: number,\n};\n\nfunction useCsrContent<I, F>(id: SlotId, options: UseContentOptions<I, F> = {}): SlotContent<SlotId> | I | F {\n    const {fallback, initial, cacheKey, expiration} = options;\n    const croct = useCroct();\n\n    return useLoader({\n        cacheKey: `useContent:${cacheKey ?? ''}:${id}`,\n        loader: () => croct.fetch<SlotContent<SlotId>>(id).then(({payload}) => payload),\n        initial: initial,\n        fallback: fallback,\n        expiration: expiration,\n    });\n}\n\nfunction useSsrContent<I, F>(_: SlotId, {initial}: UseContentOptions<I, F> = {}): SlotContent<SlotId> | I | F {\n    if (initial === undefined) {\n        throw new Error('The initial value is required for server-side rendering (SSR).');\n    }\n\n    return initial;\n}\n\ntype UseContentHook = {\n    <P extends NullableJsonObject, I = P, F = P>(\n        id: keyof SlotMap extends never ? string : never,\n        options?: UseContentOptions<I, F>\n    ): P | I | F,\n\n    <S extends keyof SlotMap>(\n        id: S,\n        options?: UseContentOptions<never, never>\n    ): SlotContent<S>,\n\n    <I, S extends keyof SlotMap>(\n        id: S,\n        options?: UseContentOptions<I, never>\n    ): SlotContent<S> | I,\n\n    <F, S extends keyof SlotMap>(\n        id: S,\n        options?: UseContentOptions<never, F>\n    ): SlotContent<S> | F,\n\n    <I, F, S extends keyof SlotMap>(\n        id: S,\n        options?: UseContentOptions<I, F>\n    ): SlotContent<S> | I | F,\n};\n\nexport const useContent: UseContentHook = isSsr() ? useSsrContent : useCsrContent;\n", "import {ReactChild, ReactElement, Fragment} from 'react';\nimport {JsonValue} from '@croct/plug/sdk/json';\nimport {UseEvaluationOptions, useEvaluation} from '../../hooks';\n\ntype Renderer<T> = (result: T) => ReactChild;\n\nexport type PersonalizationProps<T extends JsonValue = JsonValue, I = T, F = T> = UseEvaluationOptions<I, F> & {\n    expression: string,\n    children: Renderer<T | I | F>,\n};\n\nexport function Personalization<T extends JsonValue, I, F>(\n    props:\n        Extract<T | I | F, JsonValue> extends never\n            ? PersonalizationProps\n            : PersonalizationProps<T, I, F>,\n): ReactElement;\n\nexport function Personalization<I, F>(props: PersonalizationProps<JsonValue, I, F>): ReactElement {\n    const {expression, children, ...options} = props;\n    const result = useEvaluation(expression, options);\n\n    return (<Fragment>{children(result)}</Fragment>);\n}\n", "import {Fragment, ReactChild, ReactElement} from 'react';\nimport {SlotContent, SlotId, SlotMap} from '@croct/plug/fetch';\nimport {NullableJsonObject} from '@croct/plug/sdk/json';\nimport {useContent, UseContentOptions} from '../../hooks';\n\ntype Renderer<P> = (props: P) => ReactChild;\n\nexport type SlotProps<P, I = P, F = P, S extends SlotId = SlotId> = UseContentOptions<I, F> & {\n    id: S,\n    children: Renderer<P | I | F>,\n};\n\ntype SlotComponent = {\n    <P, I, F>(\n        props:\n            Extract<P | I | F, NullableJsonObject> extends never\n                ? SlotProps<NullableJsonObject, never, never, keyof SlotMap extends never ? string : never>\n                : SlotProps<P, I, F, keyof SlotMap extends never ? string : never>\n    ): ReactElement,\n\n    <S extends keyof SlotMap>(props: SlotProps<SlotContent<S>, never, never, S>): ReactElement,\n\n    <I, S extends keyof SlotMap>(props: SlotProps<SlotContent<S>, I, never, S>): ReactElement,\n\n    <F, S extends keyof SlotMap>(props: SlotProps<SlotContent<S>, never, F, S>): ReactElement,\n\n    <I, F, S extends keyof SlotMap>(props: SlotProps<SlotContent<S>, I, F, S>): ReactElement,\n\n    (props: SlotProps<void, void, void>): ReactElement,\n};\n\nexport const Slot: SlotComponent = <I, F>(props: SlotProps<NullableJsonObject, I, F>): ReactElement => {\n    const {id, children, ...options} = props;\n    const data: SlotContent<SlotId> | I | F = useContent(id, options);\n\n    return <Fragment>{children(data)}</Fragment>;\n};\n", "export default require(\"./node_modules/@croct/plug-react/index.js\");"],
  "mappings": "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",
  "names": ["exports", "v", "Violation", "ArrayType", "BooleanType", "FunctionType", "JsonObjectType", "JsonArrayType", "JsonPrimitiveType", "JsonType", "MixedSchema", "NullType", "NumberType", "ObjectType", "StringType", "UnionType", "require_schema", "EvaluatorFacade", "MinimalContextFactory", "TabContextFactory", "TrackerFacade", "ActiveRecord", "UserPatch", "UserFacade", "Token", "FixedTokenProvider", "CachedTokenStore", "InMemoryTokenStore", "ReplicatedTokenStore", "require_token", "ConsoleLogger", "NamespacedLogger", "NullLogger", "SynchronousEventManager", "Tab", "Context", "NamespacedStorage", "ArbitraryPolicy", "BackoffPolicy", "MaxAttemptsPolicy", "NeverPolicy", "CapacityRestrictedQueue", "InMemoryQueue", "MonitoredQueue", "PersistentQueue", "require_queue", "Tracker", "EvaluationErrorType", "EvaluationError", "ExpressionError", "Evaluator", "response", "encodeJson", "CachedAssigner", "FixedAssigner", "RemoteAssigner", "FallbackCache", "InMemoryCache", "LocalStorageCache", "require_cache", "TimeStamper", "GuaranteedChannel", "BeaconSocketChannel", "EncodedChannel", "QueuedChannel", "message", "RetryChannel", "SandboxChannel", "SocketChannel", "require_channel", "Container", "Sdk", "SessionPatch", "SessionFacade", "SdkFacade", "require_sdk", "require_constants", "PlaygroundPlugin", "GlobalPlug", "name_1", "options", "pluginName", "controller", "require_plug", "isSsr", "csrPlug", "get", "property", "CroctContext", "displayName", "CroctProvider", "children", "parent", "useContext", "initialized", "croct", "plug", "configuration", "unplug", "value", "cache", "defaultExpiration", "load", "cacheKey", "loader", "fallback", "expiration", "cachedEntry", "undefined", "entry", "promise", "result", "catch", "error", "finally", "dispose", "loadedValue", "options", "setUnmounted", "useState", "useEffect", "setValue", "Promise", "context", "cleanEvaluationOptions", "initial", "useCsrContent", "payload", "expression", "Slot", "props", "data", "useContent", "_jsx"]
}
